import{d as B,w as N,c as h,b as t,u as o,h as q,e as n,f as s,z as F,i as r,o as w,g as P,q as k,B as W,t as V,l as z,T as J,v as M,F as A,r as f,m as j,a as I,x as L}from"./app-CRw3-p0n.js";import{W as G}from"./WorkExperienceController-AxA_lDt2.js";import{_ as H}from"./Heading.vue_vue_type_script_setup_true_lang-chJK4OK5.js";import{_ as p}from"./InputError.vue_vue_type_script_setup_true_lang-BCPkRQUl.js";import{_ as E}from"./SearchableSelect.vue_vue_type_script_setup_true_lang-BFgZb4PA.js";import{d as K,_ as S}from"./index-YUdjfNlU.js";import{_ as Q,a as R}from"./CardContent.vue_vue_type_script_setup_true_lang-XalCXvnr.js";import{_ as X}from"./CardHeader.vue_vue_type_script_setup_true_lang-wZoyHq98.js";import{_ as U}from"./Checkbox.vue_vue_type_script_setup_true_lang-CJNdinVp.js";import{_ as b}from"./Input.vue_vue_type_script_setup_true_lang-BJjXe5FR.js";import{_ as u}from"./Label.vue_vue_type_script_setup_true_lang-Ca2h1bNk.js";import{x as $,z as Y,_ as Z}from"./AppLayout.vue_vue_type_script_setup_true_lang-CKM9mFgs.js";import{B as ee}from"./users-BJvktpYV.js";import"./useForwardPropsEmits-DZbuhTEu.js";import"./Collection-uSGNX8c4.js";import"./useForwardExpose-BJkOkH-4.js";import"./PopperContent-BL2ktdEK.js";import"./VisuallyHiddenInput-BP0qPneH.js";import"./VisuallyHidden-wTvmLbDE.js";import"./useTypeahead-ai5RrIpQ.js";import"./utils-Dwb1dSJa.js";import"./search-BXAk_-8k.js";import"./createLucideIcon-CZ3KoMzD.js";import"./Teleport-DQ513N3r.js";import"./index-UjCsfenk.js";import"./chevrons-up-down-D3DlT39k.js";import"./check-BDKkD7X5.js";import"./RovingFocusGroup-HdiJtpdt.js";import"./index-CxyJPG2X.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-B7YQwo9Z.js";import"./index-D6k88Q50.js";import"./SheetDescription.vue_vue_type_script_setup_true_lang-DaJ1geIF.js";import"./user-5lurQomp.js";import"./thumbs-up-CtdE1A4C.js";const te={class:"w-full space-y-6 rounded-xl p-4"},se={class:"flex items-center gap-3"},ae={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10"},oe={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},ie={class:"space-y-4"},le={class:"grid gap-2"},ne={class:"grid gap-2"},re={key:0,class:"grid gap-2"},de={class:"space-y-4"},pe={class:"grid gap-2"},ue={class:"grid gap-4 sm:grid-cols-2"},me={class:"grid gap-2"},ce={class:"grid gap-2"},_e={class:"space-y-2 lg:col-span-2"},fe={class:"flex items-center justify-between rounded-lg border p-4"},ge={class:"space-y-0.5"},ve={class:"space-y-2 lg:col-span-2"},be={class:"flex items-center justify-between rounded-lg border p-4"},ye={class:"space-y-0.5"},xe={class:"flex flex-wrap items-center gap-3 pt-4 lg:col-span-2"},he={class:"inline-flex items-center gap-1.5 rounded-md bg-green-500/10 px-2.5 py-1 text-sm font-medium text-green-700 dark:text-green-400"},st=B({__name:"Edit",props:{workExperience:{},jobTitles:{},parentOptions:{}},setup(m){const c=m,l=f({company_name:"",job_title_id:"",parent_id:"",description:"",start_date:"",end_date:"",is_current:!1,show_company:!0}),_=f(!1),g=f(!1),v=f(!1),y=L(),d=j(()=>y.props.errors??{}),x=j(()=>y.props.flash?.success);function C(a){g.value=a,a&&(v.value=!1)}function D(a){v.value=a,a&&(g.value=!1)}const T=[{title:"Dashboard",href:K().url},{title:"Work Experience",href:$().url},{title:c.workExperience.company_name,href:Y(c.workExperience.id).url}];N(()=>c.workExperience,a=>{l.value={company_name:a.company_name,job_title_id:a.job_title_id?.toString()??"",parent_id:a.parent_id?.toString()??"",description:a.description??"",start_date:a.start_date,end_date:a.end_date??"",is_current:a.is_current,show_company:a.show_company}},{immediate:!0});function O(){const a=l.value,e={company_name:a.company_name,job_title_id:a.job_title_id===""?"":a.job_title_id,parent_id:a.parent_id===""?"":a.parent_id,description:a.description||null,start_date:a.start_date,end_date:a.end_date||null,is_current:a.is_current,show_company:a.show_company};_.value=!0,I.put(G.update.url(c.workExperience.id),e,{preserveScroll:!0,onFinish:()=>{_.value=!1}})}return(a,e)=>(w(),h(A,null,[t(o(q),{title:`Edit ${m.workExperience.company_name}`},null,8,["title"]),t(Z,{breadcrumbs:T},{default:n(()=>[s("div",te,[s("div",se,[s("div",ae,[t(o(ee),{class:"h-6 w-6 text-primary"})]),s("div",null,[t(H,{title:`Edit ${m.workExperience.company_name}`,description:"Update your work experience details"},null,8,["title"])])]),s("div",oe,[t(o(Q),{class:"lg:col-span-2"},{default:n(()=>[t(o(X),{class:"pb-4"},{default:n(()=>[...e[8]||(e[8]=[s("h3",{class:"text-sm font-medium text-muted-foreground"}," Experience details ",-1)])]),_:1}),t(o(R),{class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},{default:n(()=>[s("form",{class:"contents",onSubmit:F(O,["prevent"])},[s("div",ie,[s("div",le,[t(o(u),{for:"company_name"},{default:n(()=>[...e[9]||(e[9]=[r("Company Name ",-1),s("span",{class:"text-destructive"},"*",-1)])]),_:1}),t(o(b),{id:"company_name",modelValue:l.value.company_name,"onUpdate:modelValue":e[0]||(e[0]=i=>l.value.company_name=i),required:"",placeholder:"e.g. Acme Corp",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"]),t(p,{message:d.value.company_name},null,8,["message"])]),s("div",ne,[t(o(u),{for:"job_title_id_select"},{default:n(()=>[...e[10]||(e[10]=[r("Job Title",-1)])]),_:1}),t(E,{id:"job_title_id_select",modelValue:l.value.job_title_id,"onUpdate:modelValue":e[1]||(e[1]=i=>l.value.job_title_id=i),open:g.value,options:m.jobTitles.map(i=>({value:i.id.toString(),label:i.name})),placeholder:"Select job title (optional)","allow-clear":"","onUpdate:open":C},null,8,["modelValue","open","options"]),t(p,{message:d.value.job_title_id},null,8,["message"])]),m.parentOptions.length>0?(w(),h("div",re,[t(o(u),{for:"parent_id_select"},{default:n(()=>[...e[11]||(e[11]=[r(" Promotion from (previous position at same company) ",-1)])]),_:1}),t(E,{id:"parent_id_select",modelValue:l.value.parent_id,"onUpdate:modelValue":e[2]||(e[2]=i=>l.value.parent_id=i),open:v.value,options:m.parentOptions.map(i=>({value:i.id.toString(),label:i.label})),placeholder:"None â€” this is a new position","allow-clear":"","onUpdate:open":D},null,8,["modelValue","open","options"]),e[12]||(e[12]=s("p",{class:"text-xs text-muted-foreground"}," Select if this role was a promotion from another position at the same company ",-1)),t(p,{message:d.value.parent_id},null,8,["message"])])):P("",!0)]),s("div",de,[s("div",pe,[t(o(u),{for:"description"},{default:n(()=>[...e[13]||(e[13]=[r("Description",-1)])]),_:1}),k(s("textarea",{id:"description","onUpdate:modelValue":e[3]||(e[3]=i=>l.value.description=i),rows:"4",placeholder:"Describe your role and responsibilities...",class:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},null,512),[[W,l.value.description]]),t(p,{message:d.value.description},null,8,["message"])]),s("div",ue,[s("div",me,[t(o(u),{for:"start_date"},{default:n(()=>[...e[14]||(e[14]=[r("Start Date ",-1),s("span",{class:"text-destructive"},"*",-1)])]),_:1}),t(o(b),{id:"start_date",modelValue:l.value.start_date,"onUpdate:modelValue":e[4]||(e[4]=i=>l.value.start_date=i),type:"date",required:"",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"]),t(p,{message:d.value.start_date},null,8,["message"])]),s("div",ce,[t(o(u),{for:"end_date"},{default:n(()=>[...e[15]||(e[15]=[r("End Date",-1)])]),_:1}),t(o(b),{id:"end_date",modelValue:l.value.end_date,"onUpdate:modelValue":e[5]||(e[5]=i=>l.value.end_date=i),type:"date",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"]),t(p,{message:d.value.end_date},null,8,["message"])])])]),s("div",_e,[s("div",fe,[s("div",ge,[t(o(u),{for:"is_current",class:"text-base"},{default:n(()=>[...e[16]||(e[16]=[r(" I currently work here ",-1)])]),_:1}),e[17]||(e[17]=s("p",{class:"text-sm text-muted-foreground"}," Leave end date empty when checked ",-1))]),t(o(U),{id:"is_current",checked:l.value.is_current,"onUpdate:checked":e[6]||(e[6]=i=>l.value.is_current=i),class:"h-5 w-5"},null,8,["checked"])]),t(p,{message:d.value.is_current},null,8,["message"])]),s("div",ve,[s("div",be,[s("div",ye,[t(o(u),{for:"show_company",class:"text-base"},{default:n(()=>[...e[18]||(e[18]=[r(" Show on profile ",-1)])]),_:1}),e[19]||(e[19]=s("p",{class:"text-sm text-muted-foreground"}," Display this experience on your public profile ",-1))]),t(o(U),{id:"show_company",checked:l.value.show_company,"onUpdate:checked":e[7]||(e[7]=i=>l.value.show_company=i),class:"h-5 w-5"},null,8,["checked"])]),t(p,{message:d.value.show_company},null,8,["message"])]),s("div",xe,[t(o(S),{type:"submit",disabled:_.value},{default:n(()=>[r(V(_.value?"Updating...":"Update Experience"),1)]),_:1},8,["disabled"]),t(o(S),{variant:"outline","as-child":""},{default:n(()=>[t(o(z),{href:o($)().url},{default:n(()=>[...e[20]||(e[20]=[r(" Cancel ",-1)])]),_:1},8,["href"])]),_:1}),t(J,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 translate-y-1","leave-active-class":"transition ease-in duration-150","leave-to-class":"opacity-0"},{default:n(()=>[k(s("span",he,[e[21]||(e[21]=s("span",{class:"h-1.5 w-1.5 rounded-full bg-green-500"},null,-1)),r(" "+V(x.value),1)],512),[[M,x.value]])]),_:1})])],32)]),_:1})]),_:1})])])]),_:1})],64))}});export{st as default};
