import{d as se,w as ue,M as ne,c as T,b as o,u as r,h as de,e as u,f as s,o as h,k as O,i as n,g as R,z as me,q as H,B as pe,t as Y,T as fe,v as ve,F as _e,m as g,r as c,a as ce,x as be}from"./app-7dby7Q5N.js";import{q as $,d as ge,_ as z}from"./index-CrT2Xnpl.js";import{_ as ye}from"./DeveloperCard.vue_vue_type_script_setup_true_lang-DJFgYcF2.js";import{_ as xe}from"./FileUpload.vue_vue_type_script_setup_true_lang-C8V63ssZ.js";import{_ as he}from"./Heading.vue_vue_type_script_setup_true_lang-Cg2iviSr.js";import{_ as j}from"./InputError.vue_vue_type_script_setup_true_lang-DBN6anTH.js";import{_ as D}from"./SearchableSelect.vue_vue_type_script_setup_true_lang-B1F3lqFf.js";import{_ as L,a as I}from"./CardContent.vue_vue_type_script_setup_true_lang-C0jQOD8P.js";import{_ as J}from"./CardHeader.vue_vue_type_script_setup_true_lang-DlacgYbp.js";import{_ as Ve}from"./Checkbox.vue_vue_type_script_setup_true_lang-Bo-sYZHW.js";import{_ as v}from"./Input.vue_vue_type_script_setup_true_lang-B9EhYNWI.js";import{_ as d}from"./Label.vue_vue_type_script_setup_true_lang-Br4n0PG9.js";import{_ as G}from"./Separator.vue_vue_type_script_setup_true_lang-DY9trGYn.js";import{m as ke,_ as we}from"./AppLayout.vue_vue_type_script_setup_true_lang-C0WySG2S.js";import{U as Z}from"./user-DuyChYWe.js";import{D as Ue}from"./BadgeIcon.vue_vue_type_script_setup_true_lang-wZobr0QI.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-DfElDMt7.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-FSlcAmPG.js";import"./useForwardPropsEmits-B3sqe4cW.js";import"./useForwardExpose-DqQaWhKS.js";import"./PopperContent-DzHGzXeP.js";import"./Collection-Bsvssnav.js";import"./Teleport-CS2rEeHJ.js";import"./createLucideIcon-4FCxyCv1.js";import"./VisuallyHidden-Czp8asAR.js";import"./TooltipProvider.vue_vue_type_script_setup_true_lang-DE5FlP45.js";import"./index-C0Ge-fJc.js";import"./users-C8DJOsY2.js";import"./thumbs-up-Br7WWBJu.js";import"./file-text-WaFwzr9h.js";import"./file-up-C-7klFz0.js";import"./VisuallyHiddenInput-AUKwuOjL.js";import"./useTypeahead-DFTSV7vy.js";import"./utils-D3n6Yl4x.js";import"./search-Dg-Og-u2.js";import"./chevrons-up-down-DKvsyrqu.js";import"./check-DlabNYUO.js";import"./RovingFocusGroup-C1mw_tmU.js";import"./index-m6-NSana.js";import"./index-JiMCzBAZ.js";import"./SheetDescription.vue_vue_type_script_setup_true_lang-DIiEg6G3.js";import"./arrow-down-DvLzsz8j.js";import"./arrow-left-D0y2zjsq.js";import"./quote-B4VS3y23.js";import"./tag-DGl_5Rgo.js";import"./chevron-left-0i4hcarj.js";import"./shield-check-B5gcl0Mr.js";import"./copy-Ct_F9jV7.js";import"./trash-2-DWN0ViZf.js";import"./external-link-B0VZkY6v.js";import"./menu-DdWlIWgj.js";import"./loader-circle-CZ0qHp5-.js";import"./monitor-CpaF2QXJ.js";import"./sun-BeYPNpy1.js";import"./pencil-DZGfH9-i.js";import"./plus-C9c-0K3Y.js";const m=t=>({url:m.url(t),method:"get"});m.definition={methods:["get","head"],url:"/dashboard/developer-profile"};m.url=t=>m.definition.url+$(t);m.get=t=>({url:m.url(t),method:"get"});m.head=t=>({url:m.url(t),method:"head"});const C=t=>({action:m.url(t),method:"get"});C.get=t=>({action:m.url(t),method:"get"});C.head=t=>({action:m.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});m.form=C;const f=t=>({url:f.url(t),method:"put"});f.definition={methods:["put"],url:"/dashboard/developer-profile"};f.url=t=>f.definition.url+$(t);f.put=t=>({url:f.url(t),method:"put"});const W=t=>({action:f.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...t?.query??t?.mergeQuery??{}}}),method:"post"});W.put=t=>({action:f.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...t?.query??t?.mergeQuery??{}}}),method:"post"});f.form=W;const p=t=>({url:p.url(t),method:"get"});p.definition={methods:["get","head"],url:"/dashboard/developer-profile/cv"};p.url=t=>p.definition.url+$(t);p.get=t=>({url:p.url(t),method:"get"});p.head=t=>({url:p.url(t),method:"head"});const F=t=>({action:p.url(t),method:"get"});F.get=t=>({action:p.url(t),method:"get"});F.head=t=>({action:p.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});p.form=F;const K={index:m,update:f,downloadCv:p},je={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},Se={class:"flex flex-wrap items-center justify-between gap-3"},Te={class:"flex items-center gap-3"},De={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10"},$e=["href"],Ce={key:0,class:"grid gap-6 lg:grid-cols-2"},Fe={class:"space-y-4"},qe={class:"grid gap-2"},Pe={class:"grid gap-2"},Qe={class:"grid gap-2"},Ae={class:"grid gap-2"},Ne={class:"grid gap-2"},Be={class:"grid gap-2"},Ee={class:"grid gap-2 sm:grid-cols-2"},Me={class:"grid gap-2"},Oe={class:"grid gap-2"},Re={class:"grid gap-2"},He={class:"grid gap-2"},Ye={class:"grid gap-2"},ze={class:"grid gap-2"},Le={class:"flex items-center gap-4"},Ie={class:"flex items-center space-x-2"},Je={class:"flex flex-wrap items-center gap-3 pt-4"},Ge={class:"inline-flex items-center gap-1.5 rounded-md bg-green-500/10 px-2.5 py-1 text-sm font-medium text-green-700 dark:text-green-400"},Ze={key:1,class:"flex flex-col items-center justify-center rounded-xl border border-dashed py-12"},Xl=se({__name:"Profile",props:{developer:{},jobTitles:{}},setup(t){const q=[{value:"full-time",label:"Full-time"},{value:"part-time",label:"Part-time"},{value:"freelance",label:"Freelance"},{value:"hybrid",label:"Hybrid"},{value:"remote",label:"Remote"},{value:"remote-full-time",label:"Remote Full-time"},{value:"hybrid-full-time",label:"Hybrid Full-time"}],y=t,P=be(),Q=g(()=>P.props.flash?.success),x=g(()=>P.props.errors??{}),X=[{title:"Dashboard",href:ge().url},{title:"Developer Profile",href:ke().url}];function ee(l){if(!l)return null;const e=l.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/);return e?e[1]:null}const A=g(()=>{if(!i.value)return null;const l=i.value,e=l.youtube_url;return{id:l.id,name:l.name,slug:l.slug??null,email:l.email,years_of_experience:Number(l.years_of_experience)||0,phone:l.phone||null,expected_salary_from:l.expected_salary_from?Number(l.expected_salary_from):null,expected_salary_to:l.expected_salary_to?Number(l.expected_salary_to):null,currency:l.salary_currency||null,is_available:l.is_available,bio:l.bio||null,portfolio_url:l.portfolio_url||null,github_url:l.github_url||null,linkedin_url:l.linkedin_url||null,cv_path_url:l.cv_path_url??null,recommendations_received_count:l.recommendations_received_count??0,recommended_by_us:l.recommended_by_us,youtube_video_id:ee(e)??l.youtube_video_id??null,badges:l.badges??[],job_title:{name:l.job_title?.name??""},location:l.location?{label:l.location.label}:null,skills:l.skills??[],availability_type:l.availability_type??[],profile_url:l.slug?`/developers/${l.slug}`:void 0}}),i=c(null),N=g({get:()=>i.value?.youtube_url??"",set:l=>{i.value&&(i.value.youtube_url=l||null)}}),B=g({get:()=>{const l=i.value?.job_title?.name;return y.jobTitles.find(e=>e.name===l)?.id.toString()??null},set:l=>{if(!i.value)return;if(!l){i.value.job_title={name:""};return}const e=y.jobTitles.find(a=>a.id.toString()===l);e&&(i.value.job_title={name:e.name})}}),E=g({get:()=>(i.value?.skills??[]).map(l=>l.name),set:l=>{if(!i.value)return;const e=Array.isArray(l)?l:l?[l]:[];i.value.skills=e.map(a=>({name:String(a)}))}});ue(()=>y.developer,l=>{l?i.value=ne({...l,job_title:l.job_title,location:l.location,skills:[...l.skills??[]],badges:[...l.badges??[]],availability_type:[...l.availability_type??[]]}):i.value=null},{immediate:!0});const V=c(!1),k=c(!1),w=c(!1),b=c(null),M=c(null);function le(l){V.value=l,l&&(k.value=!1,w.value=!1)}function te(l){k.value=l,l&&(V.value=!1,w.value=!1)}function oe(l){w.value=l,l&&(V.value=!1,k.value=!1)}const U=c(!1);function ae(){if(!y.developer||!i.value)return;const l=i.value,e=y.jobTitles.find(_=>_.name===l.job_title?.name);U.value=!0;const a={name:l.name??"",email:l.email??"",phone:l.phone??"",job_title_id:e?.id??null,years_of_experience:Number(l.years_of_experience)||0,bio:l.bio??null,portfolio_url:l.portfolio_url??null,github_url:l.github_url??null,linkedin_url:l.linkedin_url??null,youtube_url:l.youtube_url??null,is_available:l.is_available??!1,availability_type:(l.availability_type??[]).map(_=>_.value),skill_names:(l.skills??[]).map(_=>_.name)};b.value&&(a.cv=b.value),ce.put(K.update.url(),a,{preserveScroll:!0,forceFormData:!!b.value,onSuccess:()=>{b.value=null,M.value?.clear()},onFinish:()=>{U.value=!1}})}return(l,e)=>(h(),T(_e,null,[o(r(de),{title:"Developer Profile"}),o(we,{breadcrumbs:X},{default:u(()=>[s("div",je,[s("div",Se,[s("div",Te,[s("div",De,[o(r(Z),{class:"h-6 w-6 text-primary"})]),s("div",null,[o(he,{title:"Developer Profile",description:"Edit developer information and preview the card"})])]),t.developer?(h(),O(r(z),{key:0,variant:"outline",size:"sm","as-child":""},{default:u(()=>[s("a",{href:r(K).downloadCv.url(),download:""},[o(r(Ue),{class:"mr-2 h-4 w-4"}),e[14]||(e[14]=n(" Download CV ",-1))],8,$e)]),_:1})):R("",!0)]),t.developer&&i.value?(h(),T("div",Ce,[o(r(L),null,{default:u(()=>[o(r(J),{class:"pb-4"},{default:u(()=>[...e[15]||(e[15]=[s("h3",{class:"text-sm font-medium text-muted-foreground"}," Edit developer information ",-1)])]),_:1}),o(r(I),null,{default:u(()=>[s("form",{class:"space-y-6",onSubmit:me(ae,["prevent"])},[s("div",Fe,[s("div",qe,[o(r(d),{for:"name"},{default:u(()=>[...e[16]||(e[16]=[n("Name ",-1),s("span",{class:"text-destructive"},"*",-1)])]),_:1}),o(r(v),{id:"name",modelValue:i.value.name,"onUpdate:modelValue":e[0]||(e[0]=a=>i.value.name=a),name:"name",required:"",placeholder:"Developer name",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"]),o(j,{message:x.value.name},null,8,["message"])]),s("div",Pe,[o(r(d),{for:"email"},{default:u(()=>[...e[17]||(e[17]=[n("Email ",-1),s("span",{class:"text-destructive"},"*",-1)])]),_:1}),o(r(v),{id:"email",modelValue:i.value.email,"onUpdate:modelValue":e[1]||(e[1]=a=>i.value.email=a),name:"email",type:"email",required:"",placeholder:"email@example.com",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"]),o(j,{message:x.value.email},null,8,["message"])]),s("div",Qe,[o(r(d),{for:"phone"},{default:u(()=>[...e[18]||(e[18]=[n("Phone",-1)])]),_:1}),o(r(v),{id:"phone",modelValue:i.value.phone,"onUpdate:modelValue":e[2]||(e[2]=a=>i.value.phone=a),name:"phone",placeholder:"+964...",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"])]),s("div",Ae,[o(r(d),{for:"job_title"},{default:u(()=>[...e[19]||(e[19]=[n("Job title ",-1),s("span",{class:"text-destructive"},"*",-1)])]),_:1}),o(D,{id:"job_title",modelValue:B.value,"onUpdate:modelValue":e[3]||(e[3]=a=>B.value=a),open:V.value,options:t.jobTitles.map(a=>({value:a.id.toString(),label:a.name})),placeholder:"e.g. Backend Developer","onUpdate:open":le},null,8,["modelValue","open","options"]),o(j,{message:x.value.job_title_id},null,8,["message"])]),s("div",Ne,[o(r(d),{for:"years_of_experience"},{default:u(()=>[...e[20]||(e[20]=[n("Years of experience ",-1),s("span",{class:"text-destructive"},"*",-1)])]),_:1}),o(r(v),{id:"years_of_experience",modelValue:i.value.years_of_experience,"onUpdate:modelValue":e[4]||(e[4]=a=>i.value.years_of_experience=a),modelModifiers:{number:!0},name:"years_of_experience",type:"number",min:"0",max:"100",required:"",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"]),o(j,{message:x.value.years_of_experience},null,8,["message"])]),s("div",Be,[o(r(d),{for:"bio"},{default:u(()=>[...e[21]||(e[21]=[n("Bio",-1)])]),_:1}),H(s("textarea",{id:"bio","onUpdate:modelValue":e[5]||(e[5]=a=>i.value.bio=a),name:"bio",rows:"3",class:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",placeholder:"Brief bio..."},null,512),[[pe,i.value.bio]])]),o(r(G)),e[29]||(e[29]=s("h4",{class:"text-sm font-medium"},"URLs",-1)),s("div",Ee,[s("div",Me,[o(r(d),{for:"portfolio_url"},{default:u(()=>[...e[22]||(e[22]=[n("Portfolio",-1)])]),_:1}),o(r(v),{id:"portfolio_url",modelValue:i.value.portfolio_url,"onUpdate:modelValue":e[6]||(e[6]=a=>i.value.portfolio_url=a),name:"portfolio_url",type:"url",placeholder:"https://...",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"])]),s("div",Oe,[o(r(d),{for:"github_url"},{default:u(()=>[...e[23]||(e[23]=[n("GitHub",-1)])]),_:1}),o(r(v),{id:"github_url",modelValue:i.value.github_url,"onUpdate:modelValue":e[7]||(e[7]=a=>i.value.github_url=a),name:"github_url",type:"url",placeholder:"https://github.com/...",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"])]),s("div",Re,[o(r(d),{for:"linkedin_url"},{default:u(()=>[...e[24]||(e[24]=[n("LinkedIn",-1)])]),_:1}),o(r(v),{id:"linkedin_url",modelValue:i.value.linkedin_url,"onUpdate:modelValue":e[8]||(e[8]=a=>i.value.linkedin_url=a),name:"linkedin_url",type:"url",placeholder:"https://linkedin.com/...",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"])]),s("div",He,[o(r(d),{for:"youtube_url"},{default:u(()=>[...e[25]||(e[25]=[n("YouTube",-1)])]),_:1}),o(r(v),{id:"youtube_url",modelValue:N.value,"onUpdate:modelValue":e[9]||(e[9]=a=>N.value=a),name:"youtube_url",type:"url",placeholder:"https://youtube.com/...",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"])])]),o(xe,{id:"cv",ref_key:"cvUploadRef",ref:M,modelValue:b.value,"onUpdate:modelValue":e[10]||(e[10]=a=>b.value=a),label:"CV (PDF, max 10MB)",accept:".pdf,application/pdf","existing-url":i.value?.cv_path_url??null,"existing-label":"View current CV",error:x.value.cv},null,8,["modelValue","existing-url","error"]),o(r(G)),s("div",Ye,[o(r(d),{for:"skill_ids"},{default:u(()=>[...e[26]||(e[26]=[n("Skills",-1)])]),_:1}),o(D,{id:"skill_ids",modelValue:E.value,"onUpdate:modelValue":e[11]||(e[11]=a=>E.value=a),open:k.value,"options-url":"/api/skills",placeholder:"e.g. Laravel, Vue",multiple:"","max-options":50,"onUpdate:open":te},null,8,["modelValue","open"])]),s("div",ze,[o(r(d),{for:"availability_type"},{default:u(()=>[...e[27]||(e[27]=[n("Availability type",-1)])]),_:1}),o(D,{id:"availability_type","model-value":(i.value.availability_type??[]).map(a=>a.value),open:w.value,options:q,placeholder:"e.g. Full-time, Remote",multiple:"","onUpdate:modelValue":e[12]||(e[12]=a=>{const _=Array.isArray(a)?a:a?[a]:[];i.value.value&&(i.value.value.availability_type=_.map(S=>{const ie=q.find(re=>re.value===S);return{value:String(S),label:ie?.label??String(S)}}))}),"onUpdate:open":oe},null,8,["model-value","open"])]),s("div",Le,[s("div",Ie,[o(r(Ve),{id:"is_available",checked:i.value.is_available,"onUpdate:checked":e[13]||(e[13]=a=>i.value.is_available=a),name:"is_available",value:"1"},null,8,["checked"]),o(r(d),{for:"is_available"},{default:u(()=>[...e[28]||(e[28]=[n("Available",-1)])]),_:1})])])]),s("div",Je,[o(r(z),{type:"submit",disabled:U.value},{default:u(()=>[n(Y(U.value?"Saving...":"Save changes"),1)]),_:1},8,["disabled"]),o(fe,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 translate-y-1","leave-active-class":"transition ease-in duration-150","leave-to-class":"opacity-0"},{default:u(()=>[H(s("span",Ge,[e[30]||(e[30]=s("span",{class:"h-1.5 w-1.5 rounded-full bg-green-500"},null,-1)),n(" "+Y(Q.value),1)],512),[[ve,Q.value]])]),_:1})])],32)]),_:1})]),_:1}),o(r(L),{class:"h-fit"},{default:u(()=>[o(r(J),{class:"pb-4"},{default:u(()=>[...e[31]||(e[31]=[s("h3",{class:"text-sm font-medium text-muted-foreground"}," Card preview ",-1),s("p",{class:"text-xs text-muted-foreground"}," Changes are reflected in real-time ",-1)])]),_:1}),o(r(I),null,{default:u(()=>[A.value?(h(),O(ye,{key:0,developer:A.value},null,8,["developer"])):R("",!0)]),_:1})]),_:1})])):(h(),T("div",Ze,[o(r(Z),{class:"mb-4 h-12 w-12 text-muted-foreground"}),e[32]||(e[32]=s("h3",{class:"mb-2 text-lg font-semibold"},"No developer profile",-1)),e[33]||(e[33]=s("p",{class:"text-center text-sm text-muted-foreground"}," You do not have a developer profile. Please contact an administrator to set one up. ",-1))]))])]),_:1})],64))}});export{Xl as default};
