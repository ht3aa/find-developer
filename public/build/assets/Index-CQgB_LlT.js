import{d as j,r as T,w as B,a as b,c as i,b as t,u as e,h as z,e as r,f as d,o as a,t as n,g as _,q as F,F as g,j as h,D as L,i as m,k,l as O,x as P}from"./app-M29AK83g.js";import{D as w}from"./DeveloperRecommendationController-Bacbx_Zf.js";import{h as y,d as U,a as A,b as M,c as $,_ as q}from"./AppLayout.vue_vue_type_script_setup_true_lang-C7TeBUC6.js";import{d as I,_ as G}from"./index-B7SKF10A.js";import{_ as H,a as J,b as D,c as f,d as K,e as c}from"./TableRow.vue_vue_type_script_setup_true_lang-BM7D_z_8.js";import{_ as Q}from"./index-DqeE0pS4.js";import{_ as W}from"./Pagination.vue_vue_type_script_setup_true_lang-D7RIMkJ8.js";import{E as S}from"./external-link-CEYL-tBI.js";import{E as X,T as Y}from"./trash-2-BmU9KNMm.js";import{P as Z}from"./pencil-DZZv1DV6.js";import{T as ee}from"./thumbs-up-jm2JDNAq.js";import"./index-CNXl6HPK.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-CkHx7H9C.js";import"./useForwardPropsEmits-Deb2pzz2.js";import"./useForwardExpose-Cx8BAAbS.js";import"./PopperContent-DrHc3sgR.js";import"./Collection-Cd5v9EuD.js";import"./Teleport-CrNyNosW.js";import"./createLucideIcon-BBR4Dv_J.js";import"./VisuallyHidden-B-YxC7GY.js";import"./index-D_WOp2dO.js";import"./useTypeahead-D1gNpy2S.js";import"./RovingFocusGroup-Bk7gbXyC.js";import"./utils-Br7GRv29.js";import"./users-pDqaUDHI.js";import"./chevrons-up-down-BoyaGV_I.js";import"./SheetDescription.vue_vue_type_script_setup_true_lang-D5e20m1S.js";import"./user-CGPKZwxf.js";import"./file-text-DIe8ydEz.js";import"./chevron-left-Cm_GU7EG.js";const te={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},se={key:0,class:"rounded-lg border border-green-200 bg-green-50 px-4 py-3 text-sm font-medium text-green-800 dark:border-green-800 dark:bg-green-950/50 dark:text-green-200"},re={key:1,class:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm font-medium text-red-800 dark:border-red-800 dark:bg-red-950/50 dark:text-red-200"},oe={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},ae={class:"sm:max-w-[200px]"},ne=["value"],le={key:0,class:"text-sm text-muted-foreground"},ie={key:2,class:"rounded-md border"},de=["href"],me={key:1},ue=["href"],fe={key:1},ce={key:3,class:"flex flex-col items-center justify-center rounded-xl border border-dashed py-12"},pe={class:"text-center text-sm text-muted-foreground"},Je=j({__name:"Index",props:{recommendations:{},filters:{default:()=>({status:""})},statusOptions:{}},setup(u){const C=u,N=[{title:"Dashboard",href:I().url},{title:"Recommendations",href:y().url}],p=T(C.filters.status??"");B(p,l=>{b.get(y().url,{status:l||void 0},{preserveState:!0,preserveScroll:!0,replace:!0})});const x=P().props.flash??{};function E(l){window.confirm("Are you sure you want to delete this recommendation?")&&b.delete(w.destroy.url(l.id),{preserveScroll:!0})}function R(l){return l==="approved"?"default":l==="rejected"?"destructive":l==="processing"?"secondary":"outline"}function V(l){return new Date(l).toLocaleString(void 0,{dateStyle:"short",timeStyle:"short"})}function v(l){return l?`/developers/${l}`:"#"}return(l,s)=>(a(),i(g,null,[t(e(z),{title:"Recommendations"}),t(q,{breadcrumbs:N},{default:r(()=>[d("div",te,[e(x).success?(a(),i("div",se,n(e(x).success),1)):_("",!0),e(x).error?(a(),i("div",re,n(e(x).error),1)):_("",!0),s[12]||(s[12]=d("div",{class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},[d("div",null,[d("h1",{class:"text-2xl font-semibold tracking-tight"}," Recommendations "),d("p",{class:"text-muted-foreground"}," Manage developer recommendations (super admin only) ")])],-1)),d("div",oe,[d("div",ae,[s[2]||(s[2]=d("label",{for:"status-filter",class:"sr-only"},"Status",-1)),F(d("select",{id:"status-filter","onUpdate:modelValue":s[0]||(s[0]=o=>p.value=o),class:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"},[s[1]||(s[1]=d("option",{value:""}," All statuses ",-1)),(a(!0),i(g,null,h(u.statusOptions,o=>(a(),i("option",{key:o.value,value:o.value},n(o.label),9,ne))),128))],512),[[L,p.value]])]),u.recommendations.total>0?(a(),i("p",le," Showing "+n(u.recommendations.from)+"–"+n(u.recommendations.to)+" of "+n(u.recommendations.total),1)):_("",!0)]),u.recommendations.data.length>0?(a(),i("div",ie,[t(e(H),null,{default:r(()=>[t(e(J),null,{default:r(()=>[t(e(D),null,{default:r(()=>[t(e(f),{class:"w-[140px]"},{default:r(()=>[...s[3]||(s[3]=[m("Recommender",-1)])]),_:1}),t(e(f),{class:"w-[140px]"},{default:r(()=>[...s[4]||(s[4]=[m("Recommended",-1)])]),_:1}),t(e(f),{class:"max-w-[200px]"},{default:r(()=>[...s[5]||(s[5]=[m("Note",-1)])]),_:1}),t(e(f),{class:"w-[100px]"},{default:r(()=>[...s[6]||(s[6]=[m("Status",-1)])]),_:1}),t(e(f),{class:"w-[140px]"},{default:r(()=>[...s[7]||(s[7]=[m("Created",-1)])]),_:1}),t(e(f),{class:"w-[80px]"})]),_:1})]),_:1}),t(e(K),null,{default:r(()=>[(a(!0),i(g,null,h(u.recommendations.data,o=>(a(),k(e(D),{key:o.id},{default:r(()=>[t(e(c),{class:"text-sm"},{default:r(()=>[o.recommender_slug?(a(),i("a",{key:0,href:v(o.recommender_slug),target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center gap-1 text-primary hover:underline"},[m(n(o.recommender_name??"—")+" ",1),t(e(S),{class:"size-3.5"})],8,de)):(a(),i("span",me,n(o.recommender_name??"—"),1))]),_:2},1024),t(e(c),{class:"text-sm"},{default:r(()=>[o.recommended_slug?(a(),i("a",{key:0,href:v(o.recommended_slug),target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center gap-1 text-primary hover:underline"},[m(n(o.recommended_name??"—")+" ",1),t(e(S),{class:"size-3.5"})],8,ue)):(a(),i("span",fe,n(o.recommended_name??"—"),1))]),_:2},1024),t(e(c),{class:"max-w-[200px] truncate text-muted-foreground text-sm",title:o.recommendation_note??""},{default:r(()=>[m(n(o.recommendation_note??"—"),1)]),_:2},1032,["title"]),t(e(c),null,{default:r(()=>[t(e(Q),{variant:R(o.status)},{default:r(()=>[m(n(o.status_label),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(c),{class:"text-muted-foreground text-sm whitespace-nowrap"},{default:r(()=>[m(n(V(o.created_at)),1)]),_:2},1024),t(e(c),null,{default:r(()=>[t(e(U),null,{default:r(()=>[t(e(A),{"as-child":""},{default:r(()=>[t(e(G),{variant:"ghost",size:"icon",class:"h-8 w-8"},{default:r(()=>[s[8]||(s[8]=d("span",{class:"sr-only"},"Open menu",-1)),t(e(X),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(M),{align:"end"},{default:r(()=>[t(e($),{"as-child":""},{default:r(()=>[t(e(O),{href:e(w).edit.url(o.id)},{default:r(()=>[t(e(Z),{class:"mr-2 h-4 w-4"}),s[9]||(s[9]=m(" Edit ",-1))]),_:1},8,["href"])]),_:2},1024),t(e($),{class:"text-destructive focus:text-destructive",onClick:_e=>E(o)},{default:r(()=>[t(e(Y),{class:"mr-2 h-4 w-4"}),s[10]||(s[10]=m(" Delete ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])):(a(),i("div",ce,[t(e(ee),{class:"mb-4 h-12 w-12 text-muted-foreground"}),s[11]||(s[11]=d("h3",{class:"mb-2 text-lg font-semibold"},"No recommendations yet",-1)),d("p",pe,n(p.value?"No recommendations match the selected status.":"Developer recommendations will appear here once submitted."),1)])),u.recommendations.links?.length?(a(),k(W,{key:4,links:u.recommendations.links},null,8,["links"])):_("",!0)])]),_:1})],64))}});export{Je as default};
