import{m as L,u as e,d as _,k as b,e as p,b as S,V as E,P as C,o as m,S as xe,w as Ce,K as j,g as Z,r as F,U as ie,z as ee,ag as Me,D as W,O as we,ah as Ge,Y as Re,L as He,A as je,i as J,Q as qe,t as re,R as Ie,c as H,F as ke,a9 as We,n as Ee,f as Ae,j as Le}from"./app-DRlGJjbd.js";import{u as Be,a as he}from"./useForwardPropsEmits-CkZ0zBeE.js";import{u as Oe,a as Te,e as be,c as ue,b as de,g as Xe,P as Qe,i as Ye}from"./Collection-BJTvdJtI.js";import{P as Je,a as Ze,b as et}from"./PopperContent-DZSoTm_K.js";import{i as Fe,V as tt,u as ot}from"./VisuallyHiddenInput-Dh10Qu6b.js";import{a as at,u as lt}from"./useTypeahead-Do-PqZrg.js";import{P as R,c as X,e as D,y as nt}from"./index-BbUGV_Ht.js";import{g as st}from"./utils-DhEok29L.js";import{a as z,u as ve,f as _e,r as rt}from"./useForwardExpose-DPMjJAZB.js";import{S as De}from"./search-D4iH83BL.js";import{h as it,u as ut,a as dt,F as pt,D as ct,T as ft,X as mt}from"./Teleport-d49ctEAJ.js";import{_ as vt}from"./index-xp-sZ1RL.js";import{C as ht}from"./chevrons-up-down-D3vmTKvY.js";import{C as $e}from"./check-CNWLYQG3.js";function bt(n,s,t){const o=n.findIndex(r=>Fe(r,s)),a=n.findIndex(r=>Fe(r,t));if(o===-1||a===-1)return[];const[l,i]=[o,a].sort((r,d)=>r-d);return n.slice(l,i+1)}function yt(n){const s=L(()=>e(n)),t=L(()=>new Intl.Collator("en",{usage:"search",...s.value}));return{startsWith:(i,r)=>r.length===0?!0:(i=i.normalize("NFC"),r=r.normalize("NFC"),t.value.compare(i.slice(0,r.length),r)===0),endsWith:(i,r)=>r.length===0?!0:(i=i.normalize("NFC"),r=r.normalize("NFC"),t.value.compare(i.slice(-r.length),r)===0),contains:(i,r)=>{if(r.length===0)return!0;i=i.normalize("NFC"),r=r.normalize("NFC");let d=0;const q=r.length;for(;d+q<=i.length;d++){const y=i.slice(d,d+q);if(t.value.compare(r,y)===0)return!0}return!1}}}function gt(){return{ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"}}var _t=_({__name:"ComboboxAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const{forwardRef:s}=z();return(t,o)=>(m(),b(e(Je),{"as-child":"",reference:t.reference},{default:p(()=>[S(e(R),E({ref:e(s),"as-child":t.asChild,as:t.as},t.$attrs),{default:p(()=>[C(t.$slots,"default")]),_:3},16,["as-child","as"])]),_:3},8,["reference"]))}}),Ct=_t;function xt(n,s,t){return n===void 0?!1:Array.isArray(n)?n.some(o=>me(o,s,t)):me(n,s,t)}function me(n,s,t){return n===void 0||s===void 0?!1:typeof n=="string"?n===s:typeof t=="function"?t(n,s):typeof t=="string"?n?.[t]===s?.[t]:Fe(n,s)}const[Se,wt]=ue("ListboxRoot");var qt=_({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(n,{expose:s,emit:t}){const o=n,a=t,{multiple:l,highlightOnHover:i,orientation:r,disabled:d,selectionBehavior:q,dir:y}=xe(o),{getItems:x}=Oe({isProvider:!0}),{handleTypeaheadSearch:B}=at(),{primitiveElement:w,currentElement:c}=be(),v=gt(),k=Te(y),f=ot(c),A=F(),T=F(!1),te=F(!0),I=ve(o,"modelValue",a,{defaultValue:o.defaultValue??(l.value?[]:void 0),passive:o.modelValue===void 0,deep:!0});function ye(u){if(T.value=!0,o.multiple){const h=Array.isArray(I.value)?[...I.value]:[],g=h.findIndex(P=>me(P,u,o.by));o.selectionBehavior==="toggle"?(g===-1?h.push(u):h.splice(g,1),I.value=h):(I.value=[u],A.value=u)}else o.selectionBehavior==="toggle"&&me(I.value,u,o.by)?I.value=void 0:I.value=u;setTimeout(()=>{T.value=!1},1)}const O=F(null),oe=F(null),K=F(!1),Q=F(!1),ae=_e(),pe=_e(),Y=_e();function le(){return x().map(u=>u.ref).filter(u=>u.dataset.disabled!=="")}function $(u,h=!0){if(!u)return;O.value=u,te.value&&O.value.focus(),h&&O.value.scrollIntoView({block:"nearest"});const g=x().find(P=>P.ref===u);a("highlight",g)}function V(u){if(K.value)Y.trigger(u);else{const h=x().find(g=>me(g.value,u,o.by));h&&(O.value=h.ref,$(h.ref))}}function U(u){O.value&&O.value.isConnected&&(u.preventDefault(),u.stopPropagation(),Q.value||O.value.click())}function N(u){if(te.value){if(T.value=!0,K.value)pe.trigger(u);else{const h=u.altKey||u.ctrlKey||u.metaKey;if(h&&u.key==="a"&&l.value){const g=x(),P=g.map(se=>se.value);I.value=[...P],u.preventDefault(),$(g[g.length-1].ref)}else if(!h){const g=B(u.key,x());g&&$(g)}}setTimeout(()=>{T.value=!1},1)}}function ge(){Q.value=!0}function ce(){j(()=>{Q.value=!1})}function ne(){j(()=>{const u=new KeyboardEvent("keydown",{key:"PageUp"});Ve(u)})}function G(u){const h=O.value;h?.isConnected&&(oe.value=h),O.value=null,a("leave",u)}function Ue(u){const h=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if(u.currentTarget?.dispatchEvent(h),a("entryFocus",h),!h.defaultPrevented)if(oe.value)$(oe.value);else{const g=le()?.[0];$(g)}}function Ve(u){const h=st(u,r.value,k.value);if(!h)return;let g=le();if(O.value){if(h==="last")g.reverse();else if(h==="prev"||h==="next"){h==="prev"&&g.reverse();const P=g.indexOf(O.value);g=g.slice(P+1)}Ne(u,g[0])}if(g.length){const P=!O.value&&h==="prev"?g.length-1:0;$(g[P])}if(K.value)return pe.trigger(u)}function Ne(u,h){if(!(K.value||o.selectionBehavior!=="replace"||!l.value||!Array.isArray(I.value)||(u.altKey||u.ctrlKey||u.metaKey)&&!u.shiftKey)&&u.shiftKey){const P=x().filter(fe=>fe.ref.dataset.disabled!=="");let se=P.find(fe=>fe.ref===h)?.value;if(u.key===v.END?se=P[P.length-1].value:u.key===v.HOME&&(se=P[0].value),!se||!A.value)return;const ze=bt(P.map(fe=>fe.value),A.value,se);I.value=ze}}async function Pe(u){if(await j(),K.value)ae.trigger(u);else{const h=le(),g=h.find(P=>P.dataset.state==="checked");g?$(g):h.length&&$(h[0])}}return Ce(I,()=>{T.value||j(()=>{Pe()})},{immediate:!0,deep:!0}),s({highlightedElement:O,highlightItem:V,highlightFirstItem:ne,highlightSelected:Pe,getItems:x}),wt({modelValue:I,onValueChange:ye,multiple:l,orientation:r,dir:k,disabled:d,highlightOnHover:i,highlightedElement:O,isVirtual:K,virtualFocusHook:ae,virtualKeydownHook:pe,virtualHighlightHook:Y,by:o.by,firstValue:A,selectionBehavior:q,focusable:te,onLeave:G,onEnter:Ue,changeHighlight:$,onKeydownEnter:U,onKeydownNavigation:Ve,onKeydownTypeAhead:N,onCompositionStart:ge,onCompositionEnd:ce,highlightFirstItem:ne}),(u,h)=>(m(),b(e(R),{ref_key:"primitiveElement",ref:w,as:u.as,"as-child":u.asChild,dir:e(k),"data-disabled":e(d)?"":void 0,onPointerleave:G,onFocusout:h[0]||(h[0]=async g=>{const P=g.relatedTarget||g.target;await j(),O.value&&e(c)&&!e(c).contains(P)&&G(g)})},{default:p(()=>[C(u.$slots,"default",{modelValue:e(I)}),e(f)&&u.name?(m(),b(e(tt),{key:0,name:u.name,value:e(I),disabled:e(d),required:u.required},null,8,["name","value","disabled","required"])):Z("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),Bt=qt,St=_({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const{CollectionSlot:s}=Oe(),t=Se(),o=rt(!1,10);return(a,l)=>(m(),b(e(s),null,{default:p(()=>[S(e(R),{role:"listbox",as:a.as,"as-child":a.asChild,tabindex:e(t).focusable.value?e(t).highlightedElement.value?"-1":"0":"-1","aria-orientation":e(t).orientation.value,"aria-multiselectable":!!e(t).multiple.value,"data-orientation":e(t).orientation.value,onMousedown:l[0]||(l[0]=ee(i=>o.value=!0,["left"])),onFocus:l[1]||(l[1]=i=>{e(o)||e(t).onEnter(i)}),onKeydown:[l[2]||(l[2]=ie(i=>{e(t).orientation.value==="vertical"&&(i.key==="ArrowLeft"||i.key==="ArrowRight")||e(t).orientation.value==="horizontal"&&(i.key==="ArrowUp"||i.key==="ArrowDown")||(i.preventDefault(),e(t).focusable.value&&e(t).onKeydownNavigation(i))},["down","up","left","right","home","end"])),ie(e(t).onKeydownEnter,["enter"]),e(t).onKeydownTypeAhead]},{default:p(()=>[C(a.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),Et=St,kt=_({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(n,{emit:s}){const t=n,a=ve(t,"modelValue",s,{defaultValue:"",passive:t.modelValue===void 0}),l=Se(),{primitiveElement:i,currentElement:r}=be(),d=L(()=>t.disabled||l.disabled.value||!1),q=F();return Me(()=>q.value=l.highlightedElement.value?.id),W(()=>{l.focusable.value=!1,setTimeout(()=>{t.autoFocus&&r.value?.focus()},1)}),we(()=>{l.focusable.value=!0}),(y,x)=>(m(),b(e(R),{ref_key:"primitiveElement",ref:i,as:y.as,"as-child":y.asChild,value:e(a),disabled:d.value?"":void 0,"data-disabled":d.value?"":void 0,"aria-disabled":d.value??void 0,"aria-activedescendant":q.value,type:"text",onKeydown:[ie(ee(e(l).onKeydownNavigation,["prevent"]),["down","up","home","end"]),ie(e(l).onKeydownEnter,["enter"])],onInput:x[0]||(x[0]=B=>{a.value=B.target.value,e(l).highlightFirstItem()}),onCompositionstart:e(l).onCompositionStart,onCompositionend:e(l).onCompositionEnd},{default:p(()=>[C(y.$slots,"default",{modelValue:e(a)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),Ft=kt;const[Ho,It]=ue("ListboxGroup");var Ot=_({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const s=n,t=de(void 0,"reka-listbox-group");return It({id:t}),(o,a)=>(m(),b(e(R),E({role:"group"},s,{"aria-labelledby":e(t)}),{default:p(()=>[C(o.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),Vt=Ot;const Pt="listbox.select",[At,Lt]=ue("ListboxItem");var $t=_({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(n,{emit:s}){const t=n,o=s,a=de(void 0,"reka-listbox-item"),{CollectionItem:l}=Oe(),{forwardRef:i,currentElement:r}=z(),d=Se(),q=L(()=>r.value===d.highlightedElement.value),y=L(()=>xt(d.modelValue.value,t.value,d.by)),x=L(()=>d.disabled.value||t.disabled);async function B(c){o("select",c),!c?.defaultPrevented&&!x.value&&c&&(d.onValueChange(t.value),d.changeHighlight(r.value))}function w(c){const v={originalEvent:c,value:t.value};it(Pt,B,v)}return Lt({isSelected:y}),(c,v)=>(m(),b(e(l),{value:c.value},{default:p(()=>[Ge([q.value,y.value],()=>S(e(R),E({id:e(a)},c.$attrs,{ref:e(i),role:"option",tabindex:e(d).focusable.value?q.value?"0":"-1":-1,"aria-selected":y.value,as:c.as,"as-child":c.asChild,disabled:x.value?"":void 0,"data-disabled":x.value?"":void 0,"data-highlighted":q.value?"":void 0,"data-state":y.value?"checked":"unchecked",onClick:w,onKeydown:ie(ee(w,["prevent"]),["space"]),onPointermove:v[0]||(v[0]=()=>{e(d).highlightedElement.value!==e(r)&&e(d).highlightOnHover.value&&!e(d).focusable.value&&e(d).changeHighlight(e(r),!1)})}),{default:p(()=>[C(c.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),v,1)]),_:3},8,["value"]))}}),Rt=$t,Tt=_({__name:"ListboxItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(n){const s=n;z();const t=At();return(o,a)=>e(t).isSelected.value?(m(),b(e(R),E({key:0,"aria-hidden":"true"},s),{default:p(()=>[C(o.$slots,"default")]),_:3},16)):Z("v-if",!0)}}),Dt=Tt;const[M,Kt]=ue("ComboboxRoot");var Ut=_({__name:"ComboboxRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1,default:!0},resetSearchTermOnSelect:{type:Boolean,required:!1,default:!0},openOnFocus:{type:Boolean,required:!1,default:!1},openOnClick:{type:Boolean,required:!1,default:!1},ignoreFilter:{type:Boolean,required:!1},resetModelValueOnClear:{type:Boolean,required:!1,default:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},highlightOnHover:{type:Boolean,required:!1,default:!0},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","update:open"],setup(n,{expose:s,emit:t}){const o=n,a=t,{primitiveElement:l,currentElement:i}=be(),{multiple:r,disabled:d,ignoreFilter:q,resetSearchTermOnSelect:y,openOnFocus:x,openOnClick:B,dir:w,resetModelValueOnClear:c,highlightOnHover:v}=xe(o),k=Te(w),f=ve(o,"modelValue",a,{defaultValue:o.defaultValue??(r.value?[]:void 0),passive:o.modelValue===void 0,deep:!0}),A=ve(o,"open",a,{defaultValue:o.defaultOpen,passive:o.open===void 0});async function T(V){A.value=V,Y.value="",V?(await j(),l.value?.highlightSelected(),I.value=!0,O.value?.focus()):(I.value=!1,setTimeout(()=>{!V&&o.resetSearchTermOnBlur&&te.trigger()},1))}const te=_e(),I=F(!1),ye=F(!1),O=F(),oe=F(),K=L(()=>l.value?.highlightedElement??void 0),Q=F(new Map),ae=F(new Map),{contains:pe}=yt({sensitivity:"base"}),Y=F(""),le=L(V=>{if(!Y.value||o.ignoreFilter||ye.value)return{count:Q.value.size,items:V?.items??new Map,groups:V?.groups??new Set(ae.value.keys())};let U=0;const N=new Map,ge=new Set;for(const[ce,ne]of Q.value){const G=pe(ne,Y.value);N.set(ce,G?1:0),G&&U++}for(const[ce,ne]of ae.value)for(const G of ne)if(N.get(G)>0){ge.add(ce);break}return{count:U,items:N,groups:ge}}),$=He();return W(()=>{$?.exposed&&($.exposed.highlightItem=l.value?.highlightItem,$.exposed.highlightFirstItem=l.value?.highlightFirstItem,$.exposed.highlightSelected=l.value?.highlightSelected)}),s({filtered:le,highlightedElement:K,highlightItem:l.value?.highlightItem,highlightFirstItem:l.value?.highlightFirstItem,highlightSelected:l.value?.highlightSelected}),Kt({modelValue:f,multiple:r,disabled:d,open:A,onOpenChange:T,contentId:"",isUserInputted:I,isVirtual:ye,inputElement:O,highlightedElement:K,onInputElementChange:V=>O.value=V,triggerElement:oe,onTriggerElementChange:V=>oe.value=V,parentElement:i,resetSearchTermOnSelect:y,onResetSearchTerm:te.on,allItems:Q,allGroups:ae,filterSearch:Y,filterState:le,ignoreFilter:q,openOnFocus:x,openOnClick:B,resetModelValueOnClear:c}),(V,U)=>(m(),b(e(Ze),null,{default:p(()=>[S(e(Bt),E({ref_key:"primitiveElement",ref:l},V.$attrs,{modelValue:e(f),"onUpdate:modelValue":U[0]||(U[0]=N=>Re(f)?f.value=N:null),style:{pointerEvents:e(A)?"auto":void 0},as:V.as,"as-child":V.asChild,dir:e(k),multiple:e(r),name:V.name,required:V.required,disabled:e(d),"highlight-on-hover":e(v),by:o.by,onHighlight:U[1]||(U[1]=N=>a("highlight",N))}),{default:p(()=>[C(V.$slots,"default",{open:e(A),modelValue:e(f)})]),_:3},16,["modelValue","style","as","as-child","dir","multiple","name","required","disabled","highlight-on-hover","by"])]),_:3}))}}),Nt=Ut;const[jo,zt]=ue("ComboboxContent");var Mt=_({__name:"ComboboxContentImpl",props:{position:{type:String,required:!1,default:"inline"},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(n,{emit:s}){const t=n,o=s,{position:a}=xe(t),l=M(),{forwardRef:i,currentElement:r}=z();ut(t.bodyLock),lt(),dt(l.parentElement);const d=L(()=>t.position==="popper"?t:{}),q=Be(d.value),y={boxSizing:"border-box","--reka-combobox-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-combobox-content-available-width":"var(--reka-popper-available-width)","--reka-combobox-content-available-height":"var(--reka-popper-available-height)","--reka-combobox-trigger-width":"var(--reka-popper-anchor-width)","--reka-combobox-trigger-height":"var(--reka-popper-anchor-height)"};zt({position:a});const x=F(!1);return W(()=>{l.inputElement.value&&(x.value=r.value.contains(l.inputElement.value),x.value&&l.inputElement.value.focus())}),we(()=>{const B=Xe();x.value&&(!B||B===document.body)&&l.triggerElement.value?.focus()}),(B,w)=>(m(),b(e(Et),{"as-child":""},{default:p(()=>[S(e(pt),{"as-child":"",onMountAutoFocus:w[5]||(w[5]=ee(()=>{},["prevent"])),onUnmountAutoFocus:w[6]||(w[6]=ee(()=>{},["prevent"]))},{default:p(()=>[S(e(ct),{"as-child":"","disable-outside-pointer-events":B.disableOutsidePointerEvents,onDismiss:w[0]||(w[0]=c=>e(l).onOpenChange(!1)),onFocusOutside:w[1]||(w[1]=c=>{e(l).parentElement.value?.contains(c.target)&&c.preventDefault(),o("focusOutside",c)}),onInteractOutside:w[2]||(w[2]=c=>o("interactOutside",c)),onEscapeKeyDown:w[3]||(w[3]=c=>o("escapeKeyDown",c)),onPointerDownOutside:w[4]||(w[4]=c=>{e(l).parentElement.value?.contains(c.target)&&c.preventDefault(),o("pointerDownOutside",c)})},{default:p(()=>[(m(),b(je(e(a)==="popper"?e(et):e(R)),E({...B.$attrs,...e(q)},{id:e(l).contentId,ref:e(i),"data-state":e(l).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",...e(a)==="popper"?y:{}}}),{default:p(()=>[C(B.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3},8,["disable-outside-pointer-events"])]),_:3})]),_:3}))}}),Gt=Mt,Ht=_({__name:"ComboboxCancel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(n){const s=n;z();const t=M();function o(){t.filterSearch.value="",t.inputElement.value&&(t.inputElement.value.value="",t.inputElement.value.focus()),t.resetModelValueOnClear?.value&&(t.modelValue.value=t.multiple.value?[]:null)}return(a,l)=>(m(),b(e(R),E({type:a.as==="button"?"button":void 0},s,{tabindex:"-1",onClick:o}),{default:p(()=>[C(a.$slots,"default")]),_:3},16,["type"]))}}),jt=Ht,Wt=_({__name:"ComboboxContent",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(n,{emit:s}){const a=he(n,s),{forwardRef:l}=z(),i=M();return i.contentId||=de(void 0,"reka-combobox-content"),(r,d)=>(m(),b(e(Qe),{present:r.forceMount||e(i).open.value},{default:p(()=>[S(Gt,E({...e(a),...r.$attrs},{ref:e(l)}),{default:p(()=>[C(r.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),Xt=Wt,Qt=_({__name:"ComboboxEmpty",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const s=n,t=M(),o=L(()=>t.ignoreFilter.value?t.allItems.value.size===0:t.filterState.value.count===0);return(a,l)=>o.value?(m(),b(e(R),qe(E({key:0},s)),{default:p(()=>[C(a.$slots,"default",{},()=>[l[0]||(l[0]=J("No options"))])]),_:3},16)):Z("v-if",!0)}}),Yt=Qt;const[Ke,Jt]=ue("ComboboxGroup");var Zt=_({__name:"ComboboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const s=n,t=de(void 0,"reka-combobox-group"),o=M(),a=L(()=>o.ignoreFilter.value?!0:o.filterSearch.value?o.filterState.value.groups.has(t):!0),l=Jt({id:t,labelId:""});return W(()=>{o.allGroups.value.has(t)||o.allGroups.value.set(t,new Set)}),we(()=>{o.allGroups.value.delete(t)}),(i,r)=>(m(),b(e(Vt),E({id:e(t),"aria-labelledby":e(l).labelId},s,{hidden:a.value?void 0:!0}),{default:p(()=>[C(i.$slots,"default")]),_:3},16,["id","aria-labelledby","hidden"]))}}),eo=Zt,to=_({__name:"ComboboxInput",props:{displayValue:{type:Function,required:!1},modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(n,{emit:s}){const t=n,o=s,a=M(),l=Se(),{primitiveElement:i,currentElement:r}=be(),d=ve(t,"modelValue",o,{passive:t.modelValue===void 0});W(()=>{r.value&&a.onInputElementChange(r.value)});function q(c){a.open.value||a.onOpenChange(!0)}function y(c){const v=c.target;a.open.value?a.filterSearch.value=v.value:(a.onOpenChange(!0),j(()=>{v.value&&(a.filterSearch.value=v.value,l.highlightFirstItem())}))}function x(){a.openOnFocus.value&&!a.open.value&&a.onOpenChange(!0)}function B(){a.openOnClick.value&&!a.open.value&&a.onOpenChange(!0)}function w(){const c=a.modelValue.value;t.displayValue?d.value=t.displayValue(c):!a.multiple.value&&c&&!Array.isArray(c)&&typeof c!="object"?d.value=c.toString():d.value="",j(()=>{d.value=d.value})}return a.onResetSearchTerm(()=>{w()}),Ce(a.modelValue,async()=>{!a.isUserInputted.value&&a.resetSearchTermOnSelect.value&&w()},{immediate:!0,deep:!0}),Ce(a.filterState,(c,v)=>{!a.isVirtual.value&&v.count===0&&l.highlightFirstItem()}),(c,v)=>(m(),b(e(Ft),{ref_key:"primitiveElement",ref:i,modelValue:e(d),"onUpdate:modelValue":v[0]||(v[0]=k=>Re(d)?d.value=k:null),as:c.as,"as-child":c.asChild,"auto-focus":c.autoFocus,disabled:c.disabled,"aria-expanded":e(a).open.value,"aria-controls":e(a).contentId,"aria-autocomplete":"list",role:"combobox",autocomplete:"off",onClick:B,onInput:y,onKeydown:ie(ee(q,["prevent"]),["down","up"]),onFocus:x},{default:p(()=>[C(c.$slots,"default")]),_:3},8,["modelValue","as","as-child","auto-focus","disabled","aria-expanded","aria-controls","onKeydown"]))}}),oo=to,ao=_({__name:"ComboboxItem",props:{textValue:{type:String,required:!1},value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(n,{emit:s}){const t=n,o=s,a=de(void 0,"reka-combobox-item"),l=M(),i=Ke(null),{primitiveElement:r,currentElement:d}=be();if(t.value==="")throw new Error("A <ComboboxItem /> must have a value prop that is not an empty string. This is because the Combobox value can be set to an empty string to clear the selection and show the placeholder.");const q=L(()=>{if(l.isVirtual.value||l.ignoreFilter.value||!l.filterSearch.value)return!0;{const y=l.filterState.value.items.get(a);return y===void 0?!0:y>0}});return W(()=>{l.allItems.value.set(a,t.textValue||d.value.textContent||d.value.innerText);const y=i?.id;y&&(l.allGroups.value.has(y)?l.allGroups.value.get(y)?.add(a):l.allGroups.value.set(y,new Set([a])))}),we(()=>{l.allItems.value.delete(a)}),(y,x)=>q.value?(m(),b(e(Rt),E({key:0},t,{id:e(a),ref_key:"primitiveElement",ref:r,disabled:e(l).disabled.value||y.disabled,onSelect:x[0]||(x[0]=B=>{o("select",B),!B.defaultPrevented&&!e(l).multiple.value&&!y.disabled&&!e(l).disabled.value&&(B.preventDefault(),e(l).onOpenChange(!1),e(l).modelValue.value=t.value)})}),{default:p(()=>[C(y.$slots,"default",{},()=>[J(re(y.value),1)])]),_:3},16,["id","disabled"])):Z("v-if",!0)}}),lo=ao,no=_({__name:"ComboboxItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(n){const s=n;return(t,o)=>(m(),b(e(Dt),qe(Ie(s)),{default:p(()=>[C(t.$slots,"default")]),_:3},16))}}),so=no,ro=_({__name:"ComboboxLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(n){const s=n;z();const t=Ke({id:"",labelId:""});return t.labelId||=de(void 0,"reka-combobox-group-label"),(o,a)=>(m(),b(e(R),E(s,{id:e(t).labelId}),{default:p(()=>[C(o.$slots,"default")]),_:3},16,["id"]))}}),io=ro,uo=_({__name:"ComboboxPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(n){const s=n;return(t,o)=>(m(),b(e(ft),qe(Ie(s)),{default:p(()=>[C(t.$slots,"default")]),_:3},16))}}),po=uo,co=_({__name:"ComboboxTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(n){const s=n,{forwardRef:t,currentElement:o}=z(),a=M(),l=L(()=>s.disabled||a.disabled.value||!1);return W(()=>{o.value&&a.onTriggerElementChange(o.value)}),(i,r)=>(m(),b(e(R),E(s,{ref:e(t),type:i.as==="button"?"button":void 0,tabindex:"-1","aria-label":"Show popup","aria-haspopup":"listbox","aria-expanded":e(a).open.value,"aria-controls":e(a).contentId,"data-state":e(a).open.value?"open":"closed",disabled:l.value,"data-disabled":l.value?"":void 0,"aria-disabled":l.value??void 0,onClick:r[0]||(r[0]=d=>e(a).onOpenChange(!e(a).open.value))}),{default:p(()=>[C(i.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","disabled","data-disabled","aria-disabled"]))}}),fo=co;function mo(n){const s=Ye({nonce:F()});return L(()=>n?.value||s.nonce?.value)}var vo=_({__name:"ComboboxViewport",props:{nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const s=n,{forwardRef:t}=z(),{nonce:o}=xe(s),a=mo(o),l=M();return(i,r)=>(m(),H(ke,null,[S(e(R),E({...i.$attrs,...s},{ref:e(t),"data-reka-combobox-viewport":"",role:"presentation",style:{position:"relative",flex:e(l).isVirtual.value?void 0:1,overflow:"auto"}}),{default:p(()=>[C(i.$slots,"default")]),_:3},16,["style"]),S(e(R),{as:"style",nonce:e(a)},{default:p(()=>r[0]||(r[0]=[J(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-combobox-viewport] { scrollbar-width:none; -ms-overflow-style: none; -webkit-overflow-scrolling: touch; } [data-reka-combobox-viewport]::-webkit-scrollbar { display: none; } ")])),_:1,__:[0]},8,["nonce"])],64))}}),ho=vo;const bo=_({__name:"Combobox",props:{open:{type:Boolean},defaultOpen:{type:Boolean},resetSearchTermOnBlur:{type:Boolean},resetSearchTermOnSelect:{type:Boolean},openOnFocus:{type:Boolean},openOnClick:{type:Boolean},ignoreFilter:{type:Boolean},resetModelValueOnClear:{type:Boolean},modelValue:{},defaultValue:{},multiple:{type:Boolean},dir:{},disabled:{type:Boolean},highlightOnHover:{type:Boolean},by:{type:[String,Function]},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","highlight","update:open"],setup(n,{emit:s}){const a=he(n,s);return(l,i)=>(m(),b(e(Nt),E({"data-slot":"combobox"},e(a)),{default:p(r=>[C(l.$slots,"default",qe(Ie(r)))]),_:3},16))}}),yo=_({__name:"ComboboxAnchor",props:{reference:{},asChild:{type:Boolean},as:{},class:{}},setup(n){const s=n,t=X(s,"class"),o=Be(t);return(a,l)=>(m(),b(e(Ct),E({"data-slot":"combobox-anchor"},e(o),{class:e(D)("w-[200px]",s.class)}),{default:p(()=>[C(a.$slots,"default")]),_:3},16,["class"]))}}),go=_({__name:"ComboboxEmpty",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const s=n,t=X(s,"class");return(o,a)=>(m(),b(e(Yt),E({"data-slot":"combobox-empty"},e(t),{class:e(D)("py-6 text-center text-sm",s.class)}),{default:p(()=>[C(o.$slots,"default")]),_:3},16,["class"]))}}),_o=_({__name:"ComboboxGroup",props:{asChild:{type:Boolean},as:{},class:{},heading:{}},setup(n){const s=n,t=X(s,"class");return(o,a)=>(m(),b(e(eo),E({"data-slot":"combobox-group"},e(t),{class:e(D)("overflow-hidden p-1 text-foreground",s.class)}),{default:p(()=>[n.heading?(m(),b(e(io),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:p(()=>[J(re(n.heading),1)]),_:1})):Z("",!0),C(o.$slots,"default")]),_:3},16,["class"]))}}),Co={"data-slot":"command-input-wrapper",class:"flex h-9 items-center gap-2 border-b px-3"},xo=_({inheritAttrs:!1,__name:"ComboboxInput",props:{displayValue:{type:Function},modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue"],setup(n,{emit:s}){const t=n,o=s,a=X(t,"class"),l=he(a,o);return(i,r)=>(m(),H("div",Co,[S(e(De),{class:"size-4 shrink-0 opacity-50"}),S(e(oo),E({"data-slot":"command-input",class:e(D)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t.class)},{...i.$attrs,...e(l)}),{default:p(()=>[C(i.$slots,"default")]),_:3},16,["class"])]))}}),wo=_({__name:"ComboboxItem",props:{textValue:{},value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(n,{emit:s}){const t=n,o=s,a=X(t,"class"),l=he(a,o);return(i,r)=>(m(),b(e(lo),E({"data-slot":"combobox-item"},e(l),{class:e(D)("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t.class)}),{default:p(()=>[C(i.$slots,"default")]),_:3},16,["class"]))}}),qo=_({__name:"ComboboxItemIndicator",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const s=n,t=X(s,"class"),o=Be(t);return(a,l)=>(m(),b(e(so),E({"data-slot":"combobox-item-indicator"},e(o),{class:e(D)("ml-auto",s.class)}),{default:p(()=>[C(a.$slots,"default")]),_:3},16,["class"]))}}),Bo=_({inheritAttrs:!1,__name:"ComboboxList",props:{forceMount:{type:Boolean},position:{default:"popper"},bodyLock:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{default:"center"},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},hideShiftedArrow:{type:Boolean},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(n,{emit:s}){const t=n,o=s,a=X(t,"class"),l=he(a,o);return(i,r)=>(m(),b(e(po),null,{default:p(()=>[S(e(Xt),E({"data-slot":"combobox-list"},{...i.$attrs,...e(l)},{class:e(D)("z-50 w-[200px] rounded-md border bg-popover text-popover-foreground origin-(--reka-combobox-content-transform-origin) overflow-hidden shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t.class)}),{default:p(()=>[C(i.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),So=_({__name:"ComboboxViewport",props:{nonce:{},asChild:{type:Boolean},as:{},class:{}},setup(n){const s=n,t=X(s,"class"),o=Be(t);return(a,l)=>(m(),b(e(ho),E({"data-slot":"combobox-viewport"},e(o),{class:e(D)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",s.class)}),{default:p(()=>[C(a.$slots,"default")]),_:3},16,["class"]))}}),Eo={type:"button",class:"flex min-w-0 flex-1 cursor-pointer items-center gap-2 bg-transparent text-left outline-none"},ko={key:0,class:"flex flex-1 flex-wrap items-center gap-1"},Fo=["onClick"],Io={class:"relative"},Oo=["disabled"],Wo=_({__name:"SearchableSelect",props:{modelValue:{default:null},multiple:{type:Boolean,default:!1},open:{type:Boolean},options:{default:()=>[]},optionsUrl:{},placeholder:{default:"Search..."},id:{},class:{},maxOptions:{default:50},allowClear:{type:Boolean,default:!0}},emits:["update:modelValue","update:open"],setup(n,{emit:s}){const t=We(),o=n,a=s,l=F(""),i=F([]),r=F(!1),d=L(()=>{const v=o.modelValue;return v==null?[]:Array.isArray(v)?v:[v]}),q=L(()=>d.value.map(v=>x.value.find(f=>f.value===v||f.label===v)??{value:v,label:v})),y=L(()=>o.multiple&&q.value.length>0?q.value.map(v=>v.label).join(", "):q.value[0]?.label??""),x=L(()=>{if(o.optionsUrl){const v=d.value.map(f=>i.value.find(T=>T.value===f||T.label===f)??{value:f,label:f}).filter(f=>f.value),k=i.value.filter(f=>!v.some(A=>A.value===f.value));return[...v,...k].slice(0,o.maxOptions)}return(o.options??[]).slice(0,o.maxOptions)});async function B(){if(o.optionsUrl){r.value=!0;try{const v=new URL(o.optionsUrl,window.location.origin);l.value&&v.searchParams.set("search",l.value);const k=await fetch(v.toString());if(!k.ok)throw new Error("Failed to fetch options");const f=await k.json();i.value=Array.isArray(f.data)?f.data:[]}catch{i.value=[]}finally{r.value=!1}}}const w=nt(()=>{o.optionsUrl&&B()},300);Ce(()=>l.value,()=>{o.optionsUrl&&w()}),W(()=>{o.optionsUrl&&B()});function c(v,k){k.stopPropagation();const f=d.value.filter(A=>A!==v);a("update:modelValue",f.length>0?f:[])}return(v,k)=>(m(),b(e(bo),{name:n.id??e(t),"model-value":n.multiple?d.value:d.value[0]??null,multiple:n.multiple,open:v.effectiveOpen,"open-on-click":!0,"ignore-filter":!!n.optionsUrl,"reset-search-term-on-select":!1,"onUpdate:modelValue":k[1]||(k[1]=f=>a("update:modelValue",n.multiple?Array.isArray(f)?f:[]:Array.isArray(f)?f[0]??null:f??null)),"onUpdate:open":v.handleOpenChange},{default:p(()=>[S(e(yo),{class:Ee(e(D)("flex h-auto min-h-9 w-full items-center justify-between gap-2 rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm transition-colors","focus-within:outline-none focus-within:ring-1 focus-within:ring-ring",o.class))},{default:p(()=>[S(e(fo),{id:n.id,"as-child":"",class:"flex min-w-0 flex-1 cursor-pointer items-center gap-2 outline-none"},{default:p(()=>[Ae("button",Eo,[n.multiple&&q.value.length>0?(m(),H("span",ko,[(m(!0),H(ke,null,Le(q.value,(f,A)=>(m(),b(e(vt),{key:`${e(t)}-badge-${f.value}-${A}`,variant:"secondary",class:"gap-1 pr-1 font-normal"},{default:p(()=>[J(re(f.label)+" ",1),n.allowClear?(m(),H("button",{key:0,type:"button",class:"rounded-full outline-none ring-offset-background hover:bg-secondary focus:ring-2 focus:ring-ring focus:ring-offset-2","aria-label":"Remove",onClick:ee(T=>c(f.value,T),["stop"])},[S(e(mt),{class:"size-3.5"})],8,Fo)):Z("",!0)]),_:2},1024))),128))])):(m(),H("span",{key:1,class:Ee(e(D)("flex-1 truncate text-left",!y.value&&"text-muted-foreground"))},re(y.value||n.placeholder),3)),S(e(ht),{class:"size-4 shrink-0 opacity-50"})])]),_:1},8,["id"]),S(e(jt),{class:"sr-only"})]),_:1},8,["class"]),S(e(Bo),{class:"w-[var(--reka-combobox-trigger-width)] max-h-[300px] p-0",align:"start"},{default:p(()=>[Ae("div",Io,[S(e(xo),{modelValue:l.value,"onUpdate:modelValue":k[0]||(k[0]=f=>l.value=f),placeholder:n.placeholder,class:"flex-1 border-0 rounded-none pr-10"},null,8,["modelValue","placeholder"]),n.optionsUrl?(m(),H("button",{key:0,type:"button",class:"absolute right-2 top-1/2 -translate-y-1/2 rounded p-1.5 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground","aria-label":"Search",disabled:r.value,onClick:B},[S(e(De),{class:"size-4"})],8,Oo)):Z("",!0)]),S(e(So),null,{default:p(()=>[S(e(go),null,{default:p(()=>[J(re(r.value?"Searching...":"No results found."),1)]),_:1}),S(e(_o),null,{default:p(()=>[(m(!0),H(ke,null,Le(x.value,(f,A)=>(m(),b(e(wo),{key:`${e(t)}-item-${f.value}-${A}`,value:f.value,"text-value":f.label},{default:p(()=>[n.multiple?(m(),b(e($e),{key:0,class:Ee(e(D)("mr-2 size-4 shrink-0",d.value.includes(f.value)?"opacity-100":"opacity-0"))},null,8,["class"])):(m(),b(e(qo),{key:1,class:"mr-2"},{default:p(()=>[S(e($e),{class:"size-4"})]),_:1})),J(" "+re(f.label),1)]),_:2},1032,["value","text-value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["name","model-value","multiple","open","ignore-filter","onUpdate:open"]))}});export{Wo as _};
