import{d as $,w as S,M as T,c as F,b as t,u as a,h as V,e as s,f as l,z as C,i as h,t as y,T as E,q as U,v as N,F as B,r as f,m as g,a as M,x as R,o as q}from"./app-M29AK83g.js";import{D as z}from"./DeveloperController-CUWbSEv4.js";import{_ as P}from"./DeveloperFormFields.vue_vue_type_script_setup_true_lang-fP-rXxVQ.js";import{_ as A}from"./Heading.vue_vue_type_script_setup_true_lang-BDHOBZq2.js";import{d as G,_ as x}from"./index-B7SKF10A.js";import{_ as H,a as I}from"./CardContent.vue_vue_type_script_setup_true_lang-C9-Tpenh.js";import{_ as J}from"./CardHeader.vue_vue_type_script_setup_true_lang-BQlzvGIE.js";import{j,l as K,_ as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-C7TeBUC6.js";import{U as O}from"./users-pDqaUDHI.js";import"./FileUpload.vue_vue_type_script_setup_true_lang-BBbdnKPD.js";import"./Label.vue_vue_type_script_setup_true_lang-Bjy0Q1Vp.js";import"./useForwardExpose-Cx8BAAbS.js";import"./InputError.vue_vue_type_script_setup_true_lang-BGUxyCuH.js";import"./file-up-D_sh4VZh.js";import"./createLucideIcon-BBR4Dv_J.js";import"./Teleport-CrNyNosW.js";import"./Collection-Cd5v9EuD.js";import"./SearchableSelect.vue_vue_type_script_setup_true_lang-CHsBDjls.js";import"./useForwardPropsEmits-Deb2pzz2.js";import"./PopperContent-DrHc3sgR.js";import"./VisuallyHiddenInput-B9-1oMSC.js";import"./VisuallyHidden-B-YxC7GY.js";import"./useTypeahead-D1gNpy2S.js";import"./utils-Br7GRv29.js";import"./search-EtSs6lIB.js";import"./index-DqeE0pS4.js";import"./chevrons-up-down-BoyaGV_I.js";import"./check-DHEFTZ7I.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-DTZqWolN.js";import"./RovingFocusGroup-Bk7gbXyC.js";import"./Input.vue_vue_type_script_setup_true_lang-BNozW0zc.js";import"./index-CNXl6HPK.js";import"./Separator.vue_vue_type_script_setup_true_lang-Ccmxoujk.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-CkHx7H9C.js";import"./index-D_WOp2dO.js";import"./SheetDescription.vue_vue_type_script_setup_true_lang-D5e20m1S.js";import"./user-CGPKZwxf.js";import"./file-text-DIe8ydEz.js";import"./thumbs-up-jm2JDNAq.js";const Q={class:"w-full space-y-6 rounded-xl p-4"},W={class:"flex items-center gap-3"},X={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10"},Y={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},Z={class:"flex flex-wrap items-center gap-3 pt-4"},ee=["href"],te={class:"inline-flex items-center gap-1.5 rounded-md bg-green-500/10 px-2.5 py-1 text-sm font-medium text-green-700 dark:text-green-400"},Ae=$({__name:"Edit",props:{developer:{},jobTitles:{},users:{}},setup(r){const o=r,m=f({user_id:null,name:"",email:"",phone:"",job_title:{name:""},years_of_experience:0,bio:"",portfolio_url:"",github_url:"",linkedin_url:"",youtube_url:"",is_available:!1,availability_type:[],skills:[],status:"pending",recommended_by_us:!1,cv_path_url:null}),d=f(null),p=f(!1),b=R(),k=g(()=>b.props.errors??{}),v=g(()=>b.props.flash?.success),w=[{title:"Dashboard",href:G().url},{title:"Developers",href:j().url},{title:o.developer.name,href:K(o.developer.id).url}];S(()=>o.developer,e=>{m.value=T({user_id:e.user_id??null,name:e.name,email:e.email,phone:e.phone??"",job_title:e.job_title??{name:""},years_of_experience:e.years_of_experience??0,bio:e.bio??"",portfolio_url:e.portfolio_url??"",github_url:e.github_url??"",linkedin_url:e.linkedin_url??"",youtube_url:e.youtube_url??"",is_available:e.is_available??!1,availability_type:[...e.availability_type??[]],skills:[...e.skills??[]],status:e.status??"pending",recommended_by_us:e.recommended_by_us??!1,cv_path_url:e.cv_path_url??null})},{immediate:!0});function D(){const e=m.value,i=o.jobTitles.find(u=>u.name===e.job_title?.name),_={user_id:e.user_id??null,name:e.name??"",email:e.email??"",phone:e.phone??"",job_title_id:i?.id??null,years_of_experience:Number(e.years_of_experience)||0,bio:e.bio??null,portfolio_url:e.portfolio_url??null,github_url:e.github_url??null,linkedin_url:e.linkedin_url??null,youtube_url:e.youtube_url??null,is_available:e.is_available??!1,availability_type:(e.availability_type??[]).map(u=>u.value),skill_names:(e.skills??[]).map(u=>u.name),status:e.status??"pending",recommended_by_us:e.recommended_by_us??!1},n=d.value?.cvFile,c=typeof n=="object"&&n&&"value"in n?n.value:n;c&&(_.cv=c),p.value=!0,M.put(z.update.url(o.developer.id),_,{forceFormData:!!c,preserveScroll:!0,onSuccess:()=>d.value?.clearCv?.(),onFinish:()=>{p.value=!1}})}return(e,i)=>(q(),F(B,null,[t(a(V),{title:`Edit ${r.developer.name}`},null,8,["title"]),t(L,{breadcrumbs:w},{default:s(()=>[l("div",Q,[l("div",W,[l("div",X,[t(a(O),{class:"h-6 w-6 text-primary"})]),l("div",null,[t(A,{title:`Edit ${r.developer.name}`,description:"Update developer information"},null,8,["title"])])]),l("div",Y,[t(a(H),{class:"lg:col-span-2"},{default:s(()=>[t(a(J),{class:"pb-4"},{default:s(()=>[...i[1]||(i[1]=[l("h3",{class:"text-sm font-medium text-muted-foreground"}," Developer details ",-1)])]),_:1}),t(a(I),null,{default:s(()=>[l("form",{class:"space-y-6",onSubmit:C(D,["prevent"])},[t(P,{ref_key:"formRef",ref:d,modelValue:m.value,"onUpdate:modelValue":i[0]||(i[0]=_=>m.value=_),errors:k.value,"job-titles":r.jobTitles,users:r.users,"show-user-select":"","show-admin-fields":""},null,8,["modelValue","errors","job-titles","users"]),l("div",Z,[t(a(x),{type:"submit",disabled:p.value},{default:s(()=>[h(y(p.value?"Saving...":"Update Developer"),1)]),_:1},8,["disabled"]),t(a(x),{variant:"outline","as-child":""},{default:s(()=>[l("a",{href:a(j)().url},"Cancel",8,ee)]),_:1}),t(E,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 translate-y-1","leave-active-class":"transition ease-in duration-150","leave-to-class":"opacity-0"},{default:s(()=>[U(l("span",te,[i[2]||(i[2]=l("span",{class:"h-1.5 w-1.5 rounded-full bg-green-500"},null,-1)),h(" "+y(v.value),1)],512),[[N,v.value]])]),_:1})])],32)]),_:1})]),_:1})])])]),_:1})],64))}});export{Ae as default};
