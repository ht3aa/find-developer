import{d as U,w as B,c as d,k as N,u as o,e as K,i as g,t as c,g as L,f as r,F as y,b as n,z as f,X as b,n as P,r as h,o as s}from"./app-D5i2CZUE.js";import{_ as R}from"./Label.vue_vue_type_script_setup_true_lang-D_3b7pIR.js";import{_ as T}from"./InputError.vue_vue_type_script_setup_true_lang-DDEhrImn.js";import{e as j}from"./index-DpiJ2UGf.js";import{F as x}from"./file-up-j1JoZGQt.js";import{X as S}from"./Teleport-DKCrcgs9.js";const X={class:"grid gap-2"},_=["id","accept"],$={class:"relative z-10 flex items-center gap-3 rounded-md bg-background/80 px-4 py-2.5 shadow-sm ring-1 ring-border/50"},E={class:"truncate text-sm font-medium text-foreground max-w-[200px]"},I=["href"],M=["onKeydown"],O={class:"flex size-12 items-center justify-center rounded-full bg-primary/10 text-primary"},q={class:"text-center"},A={class:"mt-0.5 text-xs text-muted-foreground"},Z=U({__name:"FileUpload",props:{modelValue:{default:null},id:{},label:{default:"File"},accept:{default:"*/*"},existingUrl:{default:null},existingLabel:{default:"View current file"},error:{default:null}},emits:["update:modelValue"],setup(e,{expose:k,emit:w}){const V=e,m=w,i=h(null),l=h(!1);function D(a){const u=a.target.files?.[0];m("update:modelValue",u??null)}function v(){m("update:modelValue",null),i.value&&(i.value.value="")}function C(a){a.preventDefault(),a.stopPropagation(),l.value=!0}function z(){l.value=!1}function F(a){a.preventDefault(),a.stopPropagation(),l.value=!1;const t=a.dataTransfer?.files?.[0];if(t&&(m("update:modelValue",t),i.value)){const u=new DataTransfer;u.items.add(t),i.value.files=u.files}}function p(){i.value?.click()}return B(()=>V.modelValue,a=>{!a&&i.value&&(i.value.value="")}),k({clear:v,inputRef:i}),(a,t)=>(s(),d("div",X,[e.label?(s(),N(o(R),{key:0,for:e.id},{default:K(()=>[g(c(e.label),1)]),_:1},8,["for"])):L("",!0),r("div",{class:P(o(j)("relative flex min-h-[120px] flex-col items-center justify-center gap-3 rounded-lg border-2 border-dashed px-4 py-6 transition-all duration-200","border-input bg-muted/30 hover:border-primary/40 hover:bg-muted/50","focus-within:border-primary focus-within:ring-2 focus-within:ring-primary/20",l.value&&"border-primary bg-primary/5 ring-2 ring-primary/20")),onDragover:C,onDragleave:z,onDrop:F},[r("input",{id:e.id,ref_key:"inputRef",ref:i,type:"file",accept:e.accept,class:"absolute inset-0 cursor-pointer opacity-0",onChange:D},null,40,_),e.modelValue?(s(),d(y,{key:0},[r("div",$,[n(o(x),{class:"size-5 shrink-0 text-primary"}),r("span",E,c(e.modelValue.name),1),r("button",{type:"button",class:"shrink-0 rounded-full p-1 text-muted-foreground transition-colors hover:bg-destructive/10 hover:text-destructive focus:outline-none focus:ring-2 focus:ring-ring","aria-label":"Remove file",onClick:f(v,["stop"])},[n(o(S),{class:"size-4"})])]),t[1]||(t[1]=r("p",{class:"text-xs text-muted-foreground"}," Click or drag a new file to replace ",-1))],64)):e.existingUrl?(s(),d(y,{key:1},[r("a",{href:e.existingUrl,target:"_blank",rel:"noopener noreferrer",class:"relative z-10 inline-flex items-center gap-2 rounded-md bg-primary/10 px-4 py-2.5 text-sm font-medium text-primary ring-1 ring-primary/20 transition-colors hover:bg-primary/20 hover:ring-primary/30",onClick:t[0]||(t[0]=f(()=>{},["stop"]))},[n(o(x),{class:"size-5"}),g(" "+c(e.existingLabel),1)],8,I),t[2]||(t[2]=r("p",{class:"text-xs text-muted-foreground"}," Click or drag a file to upload a new one ",-1))],64)):(s(),d("div",{key:2,role:"button",tabindex:"0",class:"flex cursor-pointer flex-col items-center gap-2",onClick:p,onKeydown:[b(f(p,["prevent"]),["enter"]),b(f(p,["prevent"]),["space"])]},[r("div",O,[n(o(x),{class:"size-6"})]),r("div",q,[t[3]||(t[3]=r("p",{class:"text-sm font-medium text-foreground"},[g(" Drop your file here or "),r("span",{class:"text-primary underline"},"browse")],-1)),r("p",A," Supports "+c(e.accept===".pdf,application/pdf"?"PDF":"all files"),1)])],40,M))],34),n(T,{message:e.error},null,8,["message"])]))}});export{Z as _};
