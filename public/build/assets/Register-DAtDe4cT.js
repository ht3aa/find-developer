import{d as k,k as c,e as p,b as l,u as a,h as j,f as b,z as V,o as v,g as w,i as f,r as _,m as T,a as $,x as C}from"./app-7dby7Q5N.js";import{_ as N}from"./DeveloperFormFields.vue_vue_type_script_setup_true_lang-4whjxhob.js";import{_ as R}from"./TextLink.vue_vue_type_script_setup_true_lang-CEHj6dO2.js";import{_ as F,l as B,b as E}from"./index-CrT2Xnpl.js";import{_ as S}from"./Separator.vue_vue_type_script_setup_true_lang-DY9trGYn.js";import{_ as D}from"./Spinner.vue_vue_type_script_setup_true_lang-Cr9JLm8W.js";import{_ as z}from"./AuthLayout.vue_vue_type_script_setup_true_lang-B6v3dSTu.js";import"./FileUpload.vue_vue_type_script_setup_true_lang-C8V63ssZ.js";import"./Label.vue_vue_type_script_setup_true_lang-Br4n0PG9.js";import"./useForwardExpose-DqQaWhKS.js";import"./InputError.vue_vue_type_script_setup_true_lang-DBN6anTH.js";import"./file-up-C-7klFz0.js";import"./createLucideIcon-4FCxyCv1.js";import"./Teleport-CS2rEeHJ.js";import"./Collection-Bsvssnav.js";import"./SearchableSelect.vue_vue_type_script_setup_true_lang-B1F3lqFf.js";import"./useForwardPropsEmits-B3sqe4cW.js";import"./PopperContent-DzHGzXeP.js";import"./VisuallyHiddenInput-AUKwuOjL.js";import"./VisuallyHidden-Czp8asAR.js";import"./useTypeahead-DFTSV7vy.js";import"./utils-D3n6Yl4x.js";import"./search-Dg-Og-u2.js";import"./index-C0Ge-fJc.js";import"./chevrons-up-down-DKvsyrqu.js";import"./check-DlabNYUO.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-Bo-sYZHW.js";import"./RovingFocusGroup-C1mw_tmU.js";import"./Input.vue_vue_type_script_setup_true_lang-B9EhYNWI.js";import"./index-m6-NSana.js";import"./loader-circle-CZ0qHp5-.js";const A={class:"text-center text-sm text-muted-foreground"},ce=k({__name:"Register",props:{jobTitles:{default:()=>[]}},setup(d){const y=d,n=_({name:"",email:"",phone:"",job_title:{name:""},years_of_experience:0,bio:"",portfolio_url:"",github_url:"",linkedin_url:"",youtube_url:"",is_available:!1,availability_type:[],skills:[],status:"pending",recommended_by_us:!1,cv_path_url:null}),m=_(null),i=_(!1),g=C(),x=T(()=>g.props.errors??{});function h(){const e=n.value,o=y.jobTitles.find(r=>r.name===e.job_title?.name),s={name:e.name??"",email:e.email??"",phone:e.phone??"",job_title_id:o?.id??null,years_of_experience:Number(e.years_of_experience)||0,bio:e.bio??null,portfolio_url:e.portfolio_url??null,github_url:e.github_url??null,linkedin_url:e.linkedin_url??null,youtube_url:e.youtube_url??null,is_available:e.is_available??!1,availability_type:(e.availability_type??[]).map(r=>r.value),skill_names:(e.skills??[]).map(r=>r.name)},t=m.value?.cvFile,u=typeof t=="object"&&t&&"value"in t?t.value:t;u&&(s.cv=u),i.value=!0,$.post(E(),s,{forceFormData:!!u,preserveScroll:!0,onSuccess:()=>m.value?.clearCv?.(),onError:()=>{window.scrollTo({top:0,behavior:"smooth"})},onFinish:()=>{i.value=!1}})}return(e,o)=>(v(),c(z,{title:"Register as a developer",description:"Enter your details and developer profile below"},{default:p(()=>[l(a(j),{title:"Register as a developer"}),b("form",{class:"flex flex-col gap-6",onSubmit:V(h,["prevent"])},[l(N,{ref_key:"formRef",ref:m,modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=s=>n.value=s),errors:x.value,"job-titles":d.jobTitles},null,8,["modelValue","errors","job-titles"]),l(a(F),{type:"submit",class:"w-full",disabled:i.value,"data-test":"register-user-button"},{default:p(()=>[i.value?(v(),c(a(D),{key:0})):w("",!0),o[1]||(o[1]=f(" Create account ",-1))]),_:1},8,["disabled"]),l(a(S),{class:"my-2"}),b("div",A,[o[3]||(o[3]=f(" Already have an account? ",-1)),l(R,{href:a(B)()},{default:p(()=>[...o[2]||(o[2]=[f(" Log in ",-1)])]),_:1},8,["href"])])],32)]),_:1}))}});export{ce as default};
