import{d as U,c as f,b as t,u as a,h as D,e as r,f as s,z as F,i,q as v,B as N,o as g,F as V,j as P,t as _,C as T,g as A,l as E,v as M,r as y,m as w,a as O,x as j}from"./app-C6o3Ch6j.js";import{D as q}from"./DeveloperBlogController-nlxQ_tXr.js";import{_ as L}from"./Heading.vue_vue_type_script_setup_true_lang-IbyvzVZY.js";import{_ as d}from"./InputError.vue_vue_type_script_setup_true_lang-3PL_T81l.js";import{d as W,_ as C}from"./index-Q8BmCPXc.js";import{_ as z,a as R}from"./CardContent.vue_vue_type_script_setup_true_lang-DyZ3HAsX.js";import{_ as G}from"./CardHeader.vue_vue_type_script_setup_true_lang-CBFpboP6.js";import{_ as b}from"./Input.vue_vue_type_script_setup_true_lang-BQjk7bJ2.js";import{_ as m}from"./Label.vue_vue_type_script_setup_true_lang-T4NUrizy.js";import{_ as H}from"./RichTextEditor.vue_vue_type_script_setup_true_lang-Bl1aBZIk.js";import{e as S,f as I,_ as J}from"./AppLayout.vue_vue_type_script_setup_true_lang-CyHJxXkj.js";import{F as K}from"./TooltipTrigger.vue_vue_type_script_setup_true_lang-CJ6WO0rn.js";import"./index-BQL40kDy.js";import"./useForwardExpose-BAE7mqHy.js";import"./quote-CdciqA-V.js";import"./createLucideIcon-C_9afv_H.js";import"./Collection-DHyiiBnW.js";import"./useForwardPropsEmits-DZclxPgZ.js";import"./PopperContent-CFCj-H3i.js";import"./Teleport-BAn8sglj.js";import"./index-6qIwvjwm.js";import"./useTypeahead-ouXeri0-.js";import"./RovingFocusGroup-C7w8pUop.js";import"./utils-ClACu254.js";import"./users-B-K1ZFk2.js";import"./chevrons-up-down-Duv55X7F.js";import"./SheetDescription.vue_vue_type_script_setup_true_lang-Dc01ovxy.js";import"./user-D9h-j4Rt.js";import"./thumbs-up-CXG5NN4I.js";import"./VisuallyHidden-B7YMIQ_p.js";const Q={class:"w-full space-y-6 rounded-xl p-4"},X={class:"flex items-center gap-3"},Y={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10"},Z={class:"grid gap-2"},ee={class:"grid gap-2"},te={class:"grid gap-2"},se={class:"grid gap-2"},ae={key:0,class:"grid gap-2 sm:grid-cols-2"},le={class:"grid gap-2"},oe=["value"],re={class:"grid gap-2"},ie={class:"flex flex-wrap items-center gap-3"},ue={class:"inline-flex items-center gap-1.5 rounded-md bg-green-500/10 px-2.5 py-1 text-sm font-medium text-green-700 dark:text-green-400"},je=U({__name:"Create",props:{statusOptions:{},canChangeStatus:{type:Boolean}},setup(c){const $=c,o=y({title:"",excerpt:"",content:"",featured_image:"",status:"draft",published_at:""}),p=y(!1),x=j(),n=w(()=>x.props.errors??{}),h=w(()=>x.props.flash?.success),k=[{title:"Dashboard",href:W().url},{title:"Blogs",href:S().url},{title:"Add",href:I().url}];function B(){const u=o.value,e={title:u.title,excerpt:u.excerpt||null,content:u.content,featured_image:u.featured_image||null};$.canChangeStatus&&(e.status=u.status,e.published_at=u.published_at||null),p.value=!0,O.post(q.store.url(),e,{preserveScroll:!0,onFinish:()=>{p.value=!1}})}return(u,e)=>(g(),f(V,null,[t(a(D),{title:"Add blog post"}),t(J,{breadcrumbs:k},{default:r(()=>[s("div",Q,[s("div",X,[s("div",Y,[t(a(K),{class:"h-6 w-6 text-primary"})]),s("div",null,[t(L,{title:"Add blog post",description:"Write a new post"})])]),t(a(z),{class:"lg:col-span-2"},{default:r(()=>[t(a(G),{class:"pb-4"},{default:r(()=>[...e[6]||(e[6]=[s("h3",{class:"text-sm font-medium text-muted-foreground"},"Post details",-1)])]),_:1}),t(a(R),null,{default:r(()=>[s("form",{class:"space-y-6",onSubmit:F(B,["prevent"])},[s("div",Z,[t(a(m),{for:"title"},{default:r(()=>[...e[7]||(e[7]=[i("Title ",-1),s("span",{class:"text-destructive"},"*",-1)])]),_:1}),t(a(b),{id:"title",modelValue:o.value.title,"onUpdate:modelValue":e[0]||(e[0]=l=>o.value.title=l),required:"",placeholder:"Post title",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"]),t(d,{message:n.value.title},null,8,["message"])]),s("div",ee,[t(a(m),{for:"excerpt"},{default:r(()=>[...e[8]||(e[8]=[i("Excerpt",-1)])]),_:1}),v(s("textarea",{id:"excerpt","onUpdate:modelValue":e[1]||(e[1]=l=>o.value.excerpt=l),rows:"2",placeholder:"Short summary",class:"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},null,512),[[N,o.value.excerpt]]),t(d,{message:n.value.excerpt},null,8,["message"])]),s("div",te,[t(a(m),{for:"content"},{default:r(()=>[...e[9]||(e[9]=[i("Content ",-1),s("span",{class:"text-destructive"},"*",-1)])]),_:1}),t(H,{modelValue:o.value.content,"onUpdate:modelValue":e[2]||(e[2]=l=>o.value.content=l),placeholder:"Write your postâ€¦"},null,8,["modelValue"]),t(d,{message:n.value.content},null,8,["message"])]),s("div",se,[t(a(m),{for:"featured_image"},{default:r(()=>[...e[10]||(e[10]=[i("Featured image (path)",-1)])]),_:1}),t(a(b),{id:"featured_image",modelValue:o.value.featured_image,"onUpdate:modelValue":e[3]||(e[3]=l=>o.value.featured_image=l),placeholder:"Optional path or URL"},null,8,["modelValue"]),t(d,{message:n.value.featured_image},null,8,["message"])]),c.canChangeStatus?(g(),f("div",ae,[s("div",le,[t(a(m),{for:"status"},{default:r(()=>[...e[11]||(e[11]=[i("Status",-1)])]),_:1}),v(s("select",{id:"status","onUpdate:modelValue":e[4]||(e[4]=l=>o.value.status=l),class:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"},[(g(!0),f(V,null,P(c.statusOptions,l=>(g(),f("option",{key:l.value,value:l.value},_(l.label),9,oe))),128))],512),[[T,o.value.status]]),t(d,{message:n.value.status},null,8,["message"])]),s("div",re,[t(a(m),{for:"published_at"},{default:r(()=>[...e[12]||(e[12]=[i("Published at",-1)])]),_:1}),t(a(b),{id:"published_at",modelValue:o.value.published_at,"onUpdate:modelValue":e[5]||(e[5]=l=>o.value.published_at=l),type:"datetime-local"},null,8,["modelValue"]),t(d,{message:n.value.published_at},null,8,["message"])])])):A("",!0),s("div",ie,[t(a(C),{type:"submit",disabled:p.value},{default:r(()=>[i(_(p.value?"Creating...":"Create post"),1)]),_:1},8,["disabled"]),t(a(C),{variant:"outline","as-child":""},{default:r(()=>[t(a(E),{href:a(S)().url},{default:r(()=>[...e[13]||(e[13]=[i("Cancel",-1)])]),_:1},8,["href"])]),_:1}),v(s("span",ue,[e[14]||(e[14]=s("span",{class:"h-1.5 w-1.5 rounded-full bg-green-500"},null,-1)),i(" "+_(h.value),1)],512),[[M,h.value]])])],32)]),_:1})]),_:1})])]),_:1})],64))}});export{je as default};
