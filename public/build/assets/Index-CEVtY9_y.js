import{d as D,o as a,k as i,e as r,b as o,u as e,f,l as v,i as k,g,s as _,c,F as y,j as h,m as $,x as W,h as B,t as C,a as R}from"./app-CTXhN_DD.js";import{W as j}from"./WorkExperienceController-DGhIR-RP.js";import{u as T,F,g as M}from"./index-CAC4YPHr.js";import{_ as S,a as K,d as Y,e as N,b as w,c as I}from"./TableRow.vue_vue_type_script_setup_true_lang-CceoueEe.js";import{_ as z}from"./index-CbPExAPJ.js";import{_ as E,d as H}from"./index-CtIM-YXN.js";import{a as J,b as L,c as P,d as O,x as q,y as A,_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-BONrrEI_.js";import{E as Q,T as U}from"./trash-2-DdqZ2xCn.js";import{P as X}from"./pencil-CxFpSIb6.js";import{P as V}from"./plus-X0QD7sVL.js";import{B as Z}from"./users-CAI0lB_n.js";import"./index-xCt7-ikg.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-758HNZ80.js";import"./createLucideIcon-BaJBaHHz.js";import"./useForwardPropsEmits-DGZADwI-.js";import"./useForwardExpose-Bb7kC5__.js";import"./PopperContent-DpH8GgGx.js";import"./Collection-q_i2iukm.js";import"./Teleport-C8Arf6ko.js";import"./VisuallyHidden-BN9bvjfC.js";import"./index-DJUsg1Wc.js";import"./useTypeahead-qtu6dVHp.js";import"./RovingFocusGroup-Ca-YQUim.js";import"./utils-0l-pEcOX.js";import"./chevrons-up-down-CCv1JHDk.js";import"./SheetDescription.vue_vue_type_script_setup_true_lang-DDHzECxQ.js";import"./user-BG8BgwSA.js";import"./thumbs-up-DXAEi90O.js";const ee=D({__name:"WorkExperienceActionsCell",props:{workExperience:{},onDelete:{type:Function},can:{}},setup(n){const d=n,t=()=>d.can?.updateDeveloperCompany!==!1,l=()=>d.can?.deleteDeveloperCompany!==!1,m=()=>t()||l();return(p,s)=>m()?(a(),i(e(O),{key:0},{default:r(()=>[o(e(J),{"as-child":""},{default:r(()=>[o(e(E),{variant:"ghost",size:"icon",class:"h-8 w-8"},{default:r(()=>[s[1]||(s[1]=f("span",{class:"sr-only"},"Open menu",-1)),o(e(Q),{class:"h-4 w-4"})]),_:1})]),_:1}),o(e(L),{align:"end"},{default:r(()=>[t()?(a(),i(e(P),{key:0,"as-child":""},{default:r(()=>[o(e(v),{href:e(j).edit.url(n.workExperience.id)},{default:r(()=>[o(e(X),{class:"mr-2 h-4 w-4"}),s[2]||(s[2]=k(" Edit ",-1))]),_:1},8,["href"])]),_:1})):g("",!0),l()?(a(),i(e(P),{key:1,class:"text-destructive focus:text-destructive",onClick:s[0]||(s[0]=b=>n.onDelete(n.workExperience))},{default:r(()=>[o(e(U),{class:"mr-2 h-4 w-4"}),s[3]||(s[3]=k(" Delete ",-1))]),_:1})):g("",!0)]),_:1})]),_:1})):g("",!0)}});function te(n,d,t){const l=new Date(n).getFullYear();if(t||!d)return`${l} – Present`;const m=new Date(d).getFullYear();return`${l} – ${m}`}function re(n,d={}){return[{accessorKey:"company_name",header:"Company",cell:({row:t})=>_("div",{class:"font-medium"},t.original.company_name)},{accessorKey:"job_title",header:"Job Title",cell:({row:t})=>_("div",{class:"text-muted-foreground"},t.original.job_title??"—")},{id:"promotion_from",header:"Promotion From",cell:({row:t})=>{const l=t.original.parent;return l?_("div",{class:"text-muted-foreground text-sm"},`${l.job_title??"N/A"} (${l.company_name})`):_("div",{class:"text-muted-foreground"},"—")}},{id:"date_range",header:"Period",cell:({row:t})=>_("div",{class:"text-muted-foreground"},te(t.original.start_date,t.original.end_date,t.original.is_current))},{accessorKey:"show_company",header:"Visible",cell:({row:t})=>_(z,{variant:t.original.show_company?"default":"secondary"},()=>t.original.show_company?"Yes":"No")},{id:"actions",header:"",cell:({row:t})=>_(ee,{workExperience:t.original,onDelete:n,can:d})}]}const oe={class:"rounded-md border"},se=D({__name:"WorkExperienceDataTable",props:{data:{},onDelete:{type:Function}},setup(n){const d=n,t=W(),l=$(()=>({...t.props.auth?.can??{},...t.props.can??{}})),m=$(()=>re(d.onDelete,l.value)),p=T({get data(){return d.data},get columns(){return m.value},getCoreRowModel:M()});return(s,b)=>(a(),c("div",oe,[o(e(S),null,{default:r(()=>[o(e(K),null,{default:r(()=>[(a(!0),c(y,null,h(e(p).getHeaderGroups(),x=>(a(),i(e(w),{key:x.id},{default:r(()=>[(a(!0),c(y,null,h(x.headers,u=>(a(),i(e(I),{key:u.id,colspan:u.colSpan},{default:r(()=>[u.column.columnDef.header?(a(),i(e(F),{key:0,render:u.column.columnDef.header,props:u.getContext()},null,8,["render","props"])):g("",!0)]),_:2},1032,["colspan"]))),128))]),_:2},1024))),128))]),_:1}),o(e(Y),null,{default:r(()=>[e(p).getRowModel().rows?.length?(a(!0),c(y,{key:0},h(e(p).getRowModel().rows,x=>(a(),i(e(w),{key:x.id,"data-state":x.getIsSelected()?"selected":void 0},{default:r(()=>[(a(!0),c(y,null,h(x.getVisibleCells(),u=>(a(),i(e(N),{key:u.id},{default:r(()=>[o(e(F),{render:u.column.columnDef.cell,props:u.getContext()},null,8,["render","props"])]),_:2},1024))),128))]),_:2},1032,["data-state"]))),128)):(a(),i(e(w),{key:1},{default:r(()=>[o(e(N),{colspan:m.value.length,class:"h-24 text-center"},{default:r(()=>[...b[0]||(b[0]=[k(" No results. ",-1)])]),_:1},8,["colspan"])]),_:1}))]),_:1})]),_:1})]))}}),ae={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},ne={key:0,class:"rounded-lg border border-green-200 bg-green-50 px-4 py-3 text-sm font-medium text-green-800 dark:border-green-800 dark:bg-green-950/50 dark:text-green-200"},le={key:1,class:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm font-medium text-red-800 dark:border-red-800 dark:bg-red-950/50 dark:text-red-200"},de={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},ie={key:3,class:"flex flex-col items-center justify-center rounded-xl border border-dashed py-12"},Me=D({__name:"Index",props:{workExperiences:{}},setup(n){const d=W(),t=$(()=>d.props.flash),l=[{title:"Dashboard",href:H().url},{title:"Work Experience",href:q().url}];function m(p){window.confirm(`Are you sure you want to delete your experience at "${p.company_name}"?`)&&R.delete(j.destroy.url(p.id),{preserveScroll:!0})}return(p,s)=>(a(),c(y,null,[o(e(B),{title:"Work Experience"}),o(G,{breadcrumbs:l},{default:r(()=>[f("div",ae,[t.value?.success?(a(),c("div",ne,C(t.value.success),1)):g("",!0),t.value?.error?(a(),c("div",le,C(t.value.error),1)):g("",!0),f("div",de,[s[1]||(s[1]=f("div",null,[f("h1",{class:"text-2xl font-semibold tracking-tight"}," Work Experience "),f("p",{class:"text-muted-foreground"}," Manage your work history and professional experience ")],-1)),o(e(E),{"as-child":""},{default:r(()=>[o(e(v),{href:e(A)().url},{default:r(()=>[o(e(V),{class:"mr-2 h-4 w-4"}),s[0]||(s[0]=k(" Add Experience ",-1))]),_:1},8,["href"])]),_:1})]),n.workExperiences.length>0?(a(),i(se,{key:2,data:n.workExperiences,"on-delete":m},null,8,["data"])):(a(),c("div",ie,[o(e(Z),{class:"mb-4 h-12 w-12 text-muted-foreground"}),s[3]||(s[3]=f("h3",{class:"mb-2 text-lg font-semibold"},"No work experience yet",-1)),s[4]||(s[4]=f("p",{class:"mb-4 text-center text-sm text-muted-foreground"}," Add your first work experience to showcase your professional background. ",-1)),o(e(E),{"as-child":""},{default:r(()=>[o(e(v),{href:e(A)().url},{default:r(()=>[o(e(V),{class:"mr-2 h-4 w-4"}),s[2]||(s[2]=k(" Add Experience ",-1))]),_:1},8,["href"])]),_:1})]))])]),_:1})],64))}});export{Me as default};
