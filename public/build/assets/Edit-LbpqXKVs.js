import{d as $,w as S,M as T,c as F,b as t,u as a,h as V,e as s,f as l,z as C,i as h,t as y,T as E,q as U,v as N,F as B,r as f,m as g,a as M,x as R,o as q}from"./app-Ct8NvpMZ.js";import{D as z}from"./DeveloperController-KmGp74nw.js";import{_ as P}from"./DeveloperFormFields.vue_vue_type_script_setup_true_lang-DKaZ-yPM.js";import{_ as A}from"./Heading.vue_vue_type_script_setup_true_lang-BqvM63WA.js";import{d as G,_ as x}from"./index-sniBaggP.js";import{_ as H,a as I}from"./CardContent.vue_vue_type_script_setup_true_lang-BoiZO_72.js";import{_ as J}from"./CardHeader.vue_vue_type_script_setup_true_lang-DinuBGI3.js";import{j,l as K,_ as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-Ck_O2i6s.js";import{U as O}from"./users-C4AcWb0m.js";import"./FileUpload.vue_vue_type_script_setup_true_lang-BX-wRjEf.js";import"./Label.vue_vue_type_script_setup_true_lang-AciSEp07.js";import"./useForwardExpose-BulEleQy.js";import"./InputError.vue_vue_type_script_setup_true_lang-DLKM6xlL.js";import"./file-up-BN6aM3w5.js";import"./createLucideIcon-C286zt9-.js";import"./Teleport-DpQ9sddr.js";import"./Collection-DQsmro2W.js";import"./SearchableSelect.vue_vue_type_script_setup_true_lang-DE9ixnqZ.js";import"./useForwardPropsEmits-BRQvttIU.js";import"./PopperContent-DMsE8sev.js";import"./VisuallyHiddenInput-DHQOROyd.js";import"./VisuallyHidden-DlZ0Uvqh.js";import"./useTypeahead-Dk1gHsxD.js";import"./utils-CVTqEHln.js";import"./search-1KLNUeK_.js";import"./index-BPKBU17q.js";import"./chevrons-up-down-DQ8D-0g-.js";import"./check-CRkfv8I5.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-DZ2k_kdF.js";import"./RovingFocusGroup-5q-Knrfv.js";import"./Input.vue_vue_type_script_setup_true_lang-ZnBkLhCN.js";import"./index-hrp0mSPM.js";import"./Separator.vue_vue_type_script_setup_true_lang-CV-1xUzC.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-DNydshD1.js";import"./index-DCVG7AJF.js";import"./SheetDescription.vue_vue_type_script_setup_true_lang-CTVyw1r0.js";import"./user-DjBFNnoV.js";import"./thumbs-up-BefQabEH.js";const Q={class:"w-full space-y-6 rounded-xl p-4"},W={class:"flex items-center gap-3"},X={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10"},Y={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},Z={class:"flex flex-wrap items-center gap-3 pt-4"},ee=["href"],te={class:"inline-flex items-center gap-1.5 rounded-md bg-green-500/10 px-2.5 py-1 text-sm font-medium text-green-700 dark:text-green-400"},Pe=$({__name:"Edit",props:{developer:{},jobTitles:{},users:{}},setup(r){const o=r,m=f({user_id:null,name:"",email:"",phone:"",job_title:{name:""},years_of_experience:0,bio:"",portfolio_url:"",github_url:"",linkedin_url:"",youtube_url:"",is_available:!1,availability_type:[],skills:[],status:"pending",recommended_by_us:!1,cv_path_url:null}),d=f(null),p=f(!1),b=R(),k=g(()=>b.props.errors??{}),v=g(()=>b.props.flash?.success),w=[{title:"Dashboard",href:G().url},{title:"Developers",href:j().url},{title:o.developer.name,href:K(o.developer.id).url}];S(()=>o.developer,e=>{m.value=T({user_id:e.user_id??null,name:e.name,email:e.email,phone:e.phone??"",job_title:e.job_title??{name:""},years_of_experience:e.years_of_experience??0,bio:e.bio??"",portfolio_url:e.portfolio_url??"",github_url:e.github_url??"",linkedin_url:e.linkedin_url??"",youtube_url:e.youtube_url??"",is_available:e.is_available??!1,availability_type:[...e.availability_type??[]],skills:[...e.skills??[]],status:e.status??"pending",recommended_by_us:e.recommended_by_us??!1,cv_path_url:e.cv_path_url??null})},{immediate:!0});function D(){const e=m.value,i=o.jobTitles.find(u=>u.name===e.job_title?.name),_={user_id:e.user_id??null,name:e.name??"",email:e.email??"",phone:e.phone??"",job_title_id:i?.id??null,years_of_experience:Number(e.years_of_experience)||0,bio:e.bio??null,portfolio_url:e.portfolio_url??null,github_url:e.github_url??null,linkedin_url:e.linkedin_url??null,youtube_url:e.youtube_url??null,is_available:e.is_available??!1,availability_type:(e.availability_type??[]).map(u=>u.value),skill_names:(e.skills??[]).map(u=>u.name),status:e.status??"pending",recommended_by_us:e.recommended_by_us??!1},n=d.value?.cvFile,c=typeof n=="object"&&n&&"value"in n?n.value:n;c&&(_.cv=c),p.value=!0,M.put(z.update.url(o.developer.id),_,{forceFormData:!!c,preserveScroll:!0,onSuccess:()=>d.value?.clearCv?.(),onFinish:()=>{p.value=!1}})}return(e,i)=>(q(),F(B,null,[t(a(V),{title:`Edit ${r.developer.name}`},null,8,["title"]),t(L,{breadcrumbs:w},{default:s(()=>[l("div",Q,[l("div",W,[l("div",X,[t(a(O),{class:"h-6 w-6 text-primary"})]),l("div",null,[t(A,{title:`Edit ${r.developer.name}`,description:"Update developer information"},null,8,["title"])])]),l("div",Y,[t(a(H),{class:"lg:col-span-2"},{default:s(()=>[t(a(J),{class:"pb-4"},{default:s(()=>[...i[1]||(i[1]=[l("h3",{class:"text-sm font-medium text-muted-foreground"}," Developer details ",-1)])]),_:1}),t(a(I),null,{default:s(()=>[l("form",{class:"space-y-6",onSubmit:C(D,["prevent"])},[t(P,{ref_key:"formRef",ref:d,modelValue:m.value,"onUpdate:modelValue":i[0]||(i[0]=_=>m.value=_),errors:k.value,"job-titles":r.jobTitles,users:r.users,"show-user-select":"","show-admin-fields":""},null,8,["modelValue","errors","job-titles","users"]),l("div",Z,[t(a(x),{type:"submit",disabled:p.value},{default:s(()=>[h(y(p.value?"Saving...":"Update Developer"),1)]),_:1},8,["disabled"]),t(a(x),{variant:"outline","as-child":""},{default:s(()=>[l("a",{href:a(j)().url},"Cancel",8,ee)]),_:1}),t(E,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 translate-y-1","leave-active-class":"transition ease-in duration-150","leave-to-class":"opacity-0"},{default:s(()=>[U(l("span",te,[i[2]||(i[2]=l("span",{class:"h-1.5 w-1.5 rounded-full bg-green-500"},null,-1)),h(" "+y(v.value),1)],512),[[N,v.value]])]),_:1})])],32)]),_:1})]),_:1})])])]),_:1})],64))}});export{Pe as default};
