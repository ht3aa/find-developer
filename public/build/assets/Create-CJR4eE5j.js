import{d as T,c as y,b as t,u as o,h as A,e as i,f as s,z as B,i as n,o as x,g as N,q as h,B as O,t as w,l as W,T as q,v as F,F as P,r as c,m as k,a as M,x as z}from"./app-zceEsHJ0.js";import{W as I}from"./WorkExperienceController-CFousoV6.js";import{_ as J}from"./Heading.vue_vue_type_script_setup_true_lang-Cam_v4pF.js";import{_ as p}from"./InputError.vue_vue_type_script_setup_true_lang-B8Db0rPd.js";import{_ as V}from"./SearchableSelect.vue_vue_type_script_setup_true_lang-CkBtkvfM.js";import{d as L,_ as j}from"./index-DB_XGDUr.js";import{_ as G,a as H}from"./CardContent.vue_vue_type_script_setup_true_lang-BXq8GHXQ.js";import{_ as K}from"./CardHeader.vue_vue_type_script_setup_true_lang-Dq9JKDvM.js";import{_ as S}from"./Checkbox.vue_vue_type_script_setup_true_lang-CkKQzZtn.js";import{_ as f}from"./Input.vue_vue_type_script_setup_true_lang-pJXYoyuZ.js";import{_ as u}from"./Label.vue_vue_type_script_setup_true_lang-CnMsaaRU.js";import{x as $,y as Q,_ as R}from"./AppLayout.vue_vue_type_script_setup_true_lang-DQL6Uiit.js";import{B as X}from"./users-CJ-0RK9x.js";import"./useForwardPropsEmits-BurJBUp9.js";import"./Collection-B-As6IPU.js";import"./useForwardExpose-69XdW_7x.js";import"./PopperContent-g9pRJxp3.js";import"./VisuallyHiddenInput-C3dtMfyL.js";import"./VisuallyHidden-CyNFWOY2.js";import"./useTypeahead-BW9vDtnA.js";import"./utils-DFOM33Ye.js";import"./search-BapEIjzr.js";import"./createLucideIcon-BcTsVLkY.js";import"./Teleport--CePYlX6.js";import"./index-BwANyZp8.js";import"./chevrons-up-down-B51xlHsI.js";import"./check-BFRzezPB.js";import"./RovingFocusGroup-mtgOdsSh.js";import"./index-BNxF7y-0.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-DSTKZO8D.js";import"./index-CYocFbH6.js";import"./SheetDescription.vue_vue_type_script_setup_true_lang-5P20ap5Q.js";import"./user-CzYV7n64.js";import"./thumbs-up-DG75xrWo.js";const Y={class:"w-full space-y-6 rounded-xl p-4"},Z={class:"flex items-center gap-3"},ee={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10"},te={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},se={class:"space-y-4"},oe={class:"grid gap-2"},ae={class:"grid gap-2"},le={key:0,class:"grid gap-2"},ie={class:"space-y-4"},re={class:"grid gap-2"},ne={class:"grid gap-4 sm:grid-cols-2"},de={class:"grid gap-2"},pe={class:"grid gap-2"},ue={class:"space-y-2 lg:col-span-2"},me={class:"flex items-center justify-between rounded-lg border p-4"},ce={class:"space-y-0.5"},_e={class:"space-y-2 lg:col-span-2"},fe={class:"flex items-center justify-between rounded-lg border p-4"},ge={class:"space-y-0.5"},ve={class:"flex flex-wrap items-center gap-3 pt-2 lg:col-span-2"},be={class:"inline-flex items-center gap-1.5 rounded-md bg-green-500/10 px-2.5 py-1 text-sm font-medium text-green-700 dark:text-green-400"},Ze=T({__name:"Create",props:{jobTitles:{},parentOptions:{}},setup(_){const l=c({company_name:"",job_title_id:"",parent_id:"",description:"",start_date:"",end_date:"",is_current:!1,show_company:!0}),m=c(!1),C=c(!1),g=c(!1),v=z(),d=k(()=>v.props.errors??{}),b=k(()=>v.props.flash?.success);function D(r){g.value=r,r&&(C.value=!1)}const E=[{title:"Dashboard",href:L().url},{title:"Work Experience",href:$().url},{title:"Add",href:Q().url}];function U(){const r=l.value,e={company_name:r.company_name,job_title_id:r.job_title_id===""?"":r.job_title_id,parent_id:r.parent_id===""?"":r.parent_id,description:r.description||null,start_date:r.start_date,end_date:r.end_date||null,is_current:r.is_current,show_company:r.show_company};m.value=!0,M.post(I.store.url(),e,{preserveScroll:!0,onFinish:()=>{m.value=!1}})}return(r,e)=>(x(),y(P,null,[t(o(A),{title:"Add Work Experience"}),t(R,{breadcrumbs:E},{default:i(()=>[s("div",Y,[s("div",Z,[s("div",ee,[t(o(X),{class:"h-6 w-6 text-primary"})]),s("div",null,[t(J,{title:"Add Work Experience",description:"Add a new entry to your work history"})])]),s("div",te,[t(o(G),{class:"lg:col-span-2"},{default:i(()=>[t(o(K),{class:"pb-4"},{default:i(()=>[...e[8]||(e[8]=[s("h3",{class:"text-sm font-medium text-muted-foreground"}," Experience details ",-1)])]),_:1}),t(o(H),{class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},{default:i(()=>[s("form",{class:"contents",onSubmit:B(U,["prevent"])},[s("div",se,[s("div",oe,[t(o(u),{for:"company_name"},{default:i(()=>[...e[9]||(e[9]=[n("Company Name ",-1),s("span",{class:"text-destructive"},"*",-1)])]),_:1}),t(o(f),{id:"company_name",modelValue:l.value.company_name,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.company_name=a),required:"",placeholder:"e.g. Acme Corp",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"]),t(p,{message:d.value.company_name},null,8,["message"])]),s("div",ae,[t(o(u),{for:"job_title_id_select"},{default:i(()=>[...e[10]||(e[10]=[n("Job Title",-1)])]),_:1}),t(V,{id:"job_title_id_select",modelValue:l.value.job_title_id,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.job_title_id=a),options:_.jobTitles.map(a=>({value:a.id.toString(),label:a.name})),placeholder:"Select job title (optional)","allow-clear":""},null,8,["modelValue","options"]),t(p,{message:d.value.job_title_id},null,8,["message"])]),_.parentOptions.length>0?(x(),y("div",le,[t(o(u),{for:"parent_id_select"},{default:i(()=>[...e[11]||(e[11]=[n(" Promotion from (previous position at same company) ",-1)])]),_:1}),t(V,{id:"parent_id_select",modelValue:l.value.parent_id,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.parent_id=a),open:g.value,options:_.parentOptions.map(a=>({value:a.id.toString(),label:a.label})),placeholder:"None â€” this is a new position","allow-clear":"","onUpdate:open":D},null,8,["modelValue","open","options"]),e[12]||(e[12]=s("p",{class:"text-xs text-muted-foreground"}," Select if this role was a promotion from another position at the same company ",-1)),t(p,{message:d.value.parent_id},null,8,["message"])])):N("",!0)]),s("div",ie,[s("div",re,[t(o(u),{for:"description"},{default:i(()=>[...e[13]||(e[13]=[n("Description",-1)])]),_:1}),h(s("textarea",{id:"description","onUpdate:modelValue":e[3]||(e[3]=a=>l.value.description=a),rows:"4",placeholder:"Describe your role and responsibilities...",class:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},null,512),[[O,l.value.description]]),t(p,{message:d.value.description},null,8,["message"])]),s("div",ne,[s("div",de,[t(o(u),{for:"start_date"},{default:i(()=>[...e[14]||(e[14]=[n("Start Date ",-1),s("span",{class:"text-destructive"},"*",-1)])]),_:1}),t(o(f),{id:"start_date",modelValue:l.value.start_date,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.start_date=a),type:"date",required:"",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"]),t(p,{message:d.value.start_date},null,8,["message"])]),s("div",pe,[t(o(u),{for:"end_date"},{default:i(()=>[...e[15]||(e[15]=[n("End Date",-1)])]),_:1}),t(o(f),{id:"end_date",modelValue:l.value.end_date,"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.end_date=a),type:"date",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"]),t(p,{message:d.value.end_date},null,8,["message"])])])]),s("div",ue,[s("div",me,[s("div",ce,[t(o(u),{for:"is_current",class:"text-base"},{default:i(()=>[...e[16]||(e[16]=[n(" I currently work here ",-1)])]),_:1}),e[17]||(e[17]=s("p",{class:"text-sm text-muted-foreground"}," Leave end date empty when checked ",-1))]),t(o(S),{id:"is_current",checked:l.value.is_current,"onUpdate:checked":e[6]||(e[6]=a=>l.value.is_current=a),class:"h-5 w-5"},null,8,["checked"])]),t(p,{message:d.value.is_current},null,8,["message"])]),s("div",_e,[s("div",fe,[s("div",ge,[t(o(u),{for:"show_company",class:"text-base"},{default:i(()=>[...e[18]||(e[18]=[n(" Show on profile ",-1)])]),_:1}),e[19]||(e[19]=s("p",{class:"text-sm text-muted-foreground"}," Display this experience on your public profile ",-1))]),t(o(S),{id:"show_company",checked:l.value.show_company,"onUpdate:checked":e[7]||(e[7]=a=>l.value.show_company=a),class:"h-5 w-5"},null,8,["checked"])]),t(p,{message:d.value.show_company},null,8,["message"])]),s("div",ve,[t(o(j),{type:"submit",disabled:m.value},{default:i(()=>[n(w(m.value?"Adding...":"Add Experience"),1)]),_:1},8,["disabled"]),t(o(j),{variant:"outline","as-child":""},{default:i(()=>[t(o(W),{href:o($)().url},{default:i(()=>[...e[20]||(e[20]=[n(" Cancel ",-1)])]),_:1},8,["href"])]),_:1}),t(q,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 translate-y-1","leave-active-class":"transition ease-in duration-150","leave-to-class":"opacity-0"},{default:i(()=>[h(s("span",be,[e[21]||(e[21]=s("span",{class:"h-1.5 w-1.5 rounded-full bg-green-500"},null,-1)),n(" "+w(b.value),1)],512),[[F,b.value]])]),_:1})])],32)]),_:1})]),_:1})])])]),_:1})],64))}});export{Ze as default};
