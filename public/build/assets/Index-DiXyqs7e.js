import{d as $,o as a,k as d,e as r,b as s,u as e,f as p,l as w,i as y,g as x,s as _,c as u,F as h,j as b,m as j,x as T,h as K,t as P,a as M}from"./app-Ct8NvpMZ.js";import{D as E}from"./DeveloperProjectController-CDvn9yc9.js";import{u as R,F as C,g as B}from"./index-B0G_T3up.js";import{_ as S,a as I,d as L,e as F,b as v,c as z}from"./TableRow.vue_vue_type_script_setup_true_lang-RWEhUpzR.js";import{_ as H}from"./index-BPKBU17q.js";import{_ as D,d as O}from"./index-sniBaggP.js";import{a as Y,b as q,c as V,d as G,n as J,o as N,_ as Q}from"./AppLayout.vue_vue_type_script_setup_true_lang-Ck_O2i6s.js";import{E as U,T as W}from"./trash-2-BRPxwLqJ.js";import{P as X}from"./pencil-kmANhhAz.js";import{P as A}from"./plus-CgqvMlD8.js";import{F as Z}from"./users-C4AcWb0m.js";import"./index-hrp0mSPM.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-DNydshD1.js";import"./createLucideIcon-C286zt9-.js";import"./useForwardPropsEmits-BRQvttIU.js";import"./useForwardExpose-BulEleQy.js";import"./PopperContent-DMsE8sev.js";import"./Collection-DQsmro2W.js";import"./Teleport-DpQ9sddr.js";import"./VisuallyHidden-DlZ0Uvqh.js";import"./index-DCVG7AJF.js";import"./useTypeahead-Dk1gHsxD.js";import"./RovingFocusGroup-5q-Knrfv.js";import"./utils-CVTqEHln.js";import"./chevrons-up-down-DQ8D-0g-.js";import"./SheetDescription.vue_vue_type_script_setup_true_lang-CTVyw1r0.js";import"./user-DjBFNnoV.js";import"./thumbs-up-BefQabEH.js";const ee=$({__name:"DeveloperProjectActionsCell",props:{project:{},onDelete:{type:Function},can:{}},setup(n){const i=n,t=()=>i.can?.updateDeveloperProject!==!1,l=()=>i.can?.deleteDeveloperProject!==!1,m=()=>t()||l();return(f,o)=>m()?(a(),d(e(G),{key:0},{default:r(()=>[s(e(Y),{"as-child":""},{default:r(()=>[s(e(D),{variant:"ghost",size:"icon",class:"h-8 w-8"},{default:r(()=>[o[1]||(o[1]=p("span",{class:"sr-only"},"Open menu",-1)),s(e(U),{class:"h-4 w-4"})]),_:1})]),_:1}),s(e(q),{align:"end"},{default:r(()=>[t()?(a(),d(e(V),{key:0,"as-child":""},{default:r(()=>[s(e(w),{href:e(E).edit.url(n.project.id)},{default:r(()=>[s(e(X),{class:"mr-2 h-4 w-4"}),o[2]||(o[2]=y(" Edit ",-1))]),_:1},8,["href"])]),_:1})):x("",!0),l()?(a(),d(e(V),{key:1,class:"text-destructive focus:text-destructive",onClick:o[0]||(o[0]=k=>n.onDelete(n.project))},{default:r(()=>[s(e(W),{class:"mr-2 h-4 w-4"}),o[3]||(o[3]=y(" Delete ",-1))]),_:1})):x("",!0)]),_:1})]),_:1})):x("",!0)}});function te(n,i={}){return[{accessorKey:"title",header:"Title",cell:({row:t})=>_("div",{class:"font-medium"},t.original.title)},{accessorKey:"description",header:"Description",cell:({row:t})=>{const l=t.original.description;if(!l)return _("div",{class:"text-muted-foreground"},"—");const m=l.length>80?`${l.slice(0,80)}…`:l;return _("div",{class:"max-w-md truncate text-muted-foreground text-sm"},m)}},{accessorKey:"link",header:"Link",cell:({row:t})=>{const l=t.original.link;return l?_("a",{class:"text-primary hover:underline",href:l,target:"_blank",rel:"noopener noreferrer"},"View"):_("div",{class:"text-muted-foreground"},"—")}},{accessorKey:"show_project",header:"Visible",cell:({row:t})=>_(H,{variant:t.original.show_project?"default":"secondary"},()=>t.original.show_project?"Yes":"No")},{id:"actions",header:"",cell:({row:t})=>_(ee,{project:t.original,onDelete:n,can:i})}]}const re={class:"rounded-md border"},se=$({__name:"DeveloperProjectDataTable",props:{data:{},onDelete:{type:Function}},setup(n){const i=n,t=T(),l=j(()=>({...t.props.auth?.can??{},...t.props.can??{}})),m=j(()=>te(i.onDelete,l.value)),f=R({get data(){return i.data},get columns(){return m.value},getCoreRowModel:B()});return(o,k)=>(a(),u("div",re,[s(e(S),null,{default:r(()=>[s(e(I),null,{default:r(()=>[(a(!0),u(h,null,b(e(f).getHeaderGroups(),g=>(a(),d(e(v),{key:g.id},{default:r(()=>[(a(!0),u(h,null,b(g.headers,c=>(a(),d(e(z),{key:c.id,colspan:c.colSpan},{default:r(()=>[c.column.columnDef.header?(a(),d(e(C),{key:0,render:c.column.columnDef.header,props:c.getContext()},null,8,["render","props"])):x("",!0)]),_:2},1032,["colspan"]))),128))]),_:2},1024))),128))]),_:1}),s(e(L),null,{default:r(()=>[e(f).getRowModel().rows?.length?(a(!0),u(h,{key:0},b(e(f).getRowModel().rows,g=>(a(),d(e(v),{key:g.id,"data-state":g.getIsSelected()?"selected":void 0},{default:r(()=>[(a(!0),u(h,null,b(g.getVisibleCells(),c=>(a(),d(e(F),{key:c.id},{default:r(()=>[s(e(C),{render:c.column.columnDef.cell,props:c.getContext()},null,8,["render","props"])]),_:2},1024))),128))]),_:2},1032,["data-state"]))),128)):(a(),d(e(v),{key:1},{default:r(()=>[s(e(F),{colspan:m.value.length,class:"h-24 text-center"},{default:r(()=>[...k[0]||(k[0]=[y(" No results. ",-1)])]),_:1},8,["colspan"])]),_:1}))]),_:1})]),_:1})]))}}),oe={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},ae={key:0,class:"rounded-lg border border-green-200 bg-green-50 px-4 py-3 text-sm font-medium text-green-800 dark:border-green-800 dark:bg-green-950/50 dark:text-green-200"},le={key:1,class:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm font-medium text-red-800 dark:border-red-800 dark:bg-red-950/50 dark:text-red-200"},ne={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},de={key:3,class:"flex flex-col items-center justify-center rounded-xl border border-dashed py-12"},Re=$({__name:"Index",props:{projects:{}},setup(n){const i=T(),t=j(()=>i.props.flash),l=[{title:"Dashboard",href:O().url},{title:"Projects",href:J().url}];function m(f){window.confirm(`Are you sure you want to delete "${f.title}"?`)&&M.delete(E.destroy.url(f.id),{preserveScroll:!0})}return(f,o)=>(a(),u(h,null,[s(e(K),{title:"Projects"}),s(Q,{breadcrumbs:l},{default:r(()=>[p("div",oe,[t.value?.success?(a(),u("div",ae,P(t.value.success),1)):x("",!0),t.value?.error?(a(),u("div",le,P(t.value.error),1)):x("",!0),p("div",ne,[o[1]||(o[1]=p("div",null,[p("h1",{class:"text-2xl font-semibold tracking-tight"}," Projects "),p("p",{class:"text-muted-foreground"}," Manage your portfolio projects ")],-1)),s(e(D),{"as-child":""},{default:r(()=>[s(e(w),{href:e(N)().url},{default:r(()=>[s(e(A),{class:"mr-2 h-4 w-4"}),o[0]||(o[0]=y(" Add Project ",-1))]),_:1},8,["href"])]),_:1})]),n.projects.length>0?(a(),d(se,{key:2,data:n.projects,"on-delete":m},null,8,["data"])):(a(),u("div",de,[s(e(Z),{class:"mb-4 h-12 w-12 text-muted-foreground"}),o[3]||(o[3]=p("h3",{class:"mb-2 text-lg font-semibold"},"No projects yet",-1)),o[4]||(o[4]=p("p",{class:"mb-4 text-center text-sm text-muted-foreground"}," Add your first project to showcase your work on your profile. ",-1)),s(e(D),{"as-child":""},{default:r(()=>[s(e(w),{href:e(N)().url},{default:r(()=>[s(e(A),{class:"mr-2 h-4 w-4"}),o[2]||(o[2]=y(" Add Project ",-1))]),_:1},8,["href"])]),_:1})]))])]),_:1})],64))}});export{Re as default};
