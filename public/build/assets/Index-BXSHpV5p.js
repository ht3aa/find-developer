import{d as C,o,k as d,e as r,b as s,u as e,f,l as $,i as y,g as x,s as p,c,F as b,j as h,m as B,x as K,h as P,t as A,a as R}from"./app-M29AK83g.js";import{B as M}from"./BadgeController-Cg8pRbNi.js";import{u as T,F as N,g as j}from"./index-LSo_htna.js";import{_ as I,a as z,d as G,e as F,b as k,c as H}from"./TableRow.vue_vue_type_script_setup_true_lang-BM7D_z_8.js";import{_ as D,d as L}from"./index-B7SKF10A.js";import{a as O,b as q,c as S,d as J,_ as Q}from"./AppLayout.vue_vue_type_script_setup_true_lang-C7TeBUC6.js";import{E as U,T as W}from"./trash-2-BmU9KNMm.js";import{P as X}from"./pencil-DZZv1DV6.js";import{_ as w}from"./index-DqeE0pS4.js";import{i as Y,c as V}from"./index-D_WOp2dO.js";import{P as E}from"./plus-KcSrMP9r.js";import{A as Z}from"./users-pDqaUDHI.js";import"./index-CNXl6HPK.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-CkHx7H9C.js";import"./useForwardPropsEmits-Deb2pzz2.js";import"./useForwardExpose-Cx8BAAbS.js";import"./PopperContent-DrHc3sgR.js";import"./Collection-Cd5v9EuD.js";import"./Teleport-CrNyNosW.js";import"./createLucideIcon-BBR4Dv_J.js";import"./VisuallyHidden-B-YxC7GY.js";import"./useTypeahead-D1gNpy2S.js";import"./RovingFocusGroup-Bk7gbXyC.js";import"./utils-Br7GRv29.js";import"./chevrons-up-down-BoyaGV_I.js";import"./SheetDescription.vue_vue_type_script_setup_true_lang-D5e20m1S.js";import"./user-CGPKZwxf.js";import"./file-text-DIe8ydEz.js";import"./thumbs-up-jm2JDNAq.js";const ee=C({__name:"BadgeActionsCell",props:{badge:{},onDelete:{type:Function},can:{}},setup(n){const i=n,t=()=>i.can?.updateBadge!==!1,l=()=>i.can?.deleteBadge!==!1,g=()=>t()||l();return(m,a)=>g()?(o(),d(e(J),{key:0},{default:r(()=>[s(e(O),{"as-child":""},{default:r(()=>[s(e(D),{variant:"ghost",size:"icon",class:"h-8 w-8"},{default:r(()=>[a[1]||(a[1]=f("span",{class:"sr-only"},"Open menu",-1)),s(e(U),{class:"h-4 w-4"})]),_:1})]),_:1}),s(e(q),{align:"end"},{default:r(()=>[t()?(o(),d(e(S),{key:0,"as-child":""},{default:r(()=>[s(e($),{href:e(M).edit.url(n.badge.id)},{default:r(()=>[s(e(X),{class:"mr-2 h-4 w-4"}),a[2]||(a[2]=y(" Edit ",-1))]),_:1},8,["href"])]),_:1})):x("",!0),l()?(o(),d(e(S),{key:1,class:"text-destructive focus:text-destructive",onClick:a[0]||(a[0]=v=>n.onDelete(n.badge))},{default:r(()=>[s(e(W),{class:"mr-2 h-4 w-4"}),a[3]||(a[3]=y(" Delete ",-1))]),_:1})):x("",!0)]),_:1})]),_:1})):x("",!0)}});function te(n,i={}){return[{accessorKey:"name",header:"Name",cell:({row:t})=>p("div",{class:"font-medium"},t.original.name)},{accessorKey:"description",header:"Description",cell:({row:t})=>p("div",{class:"max-w-[300px] truncate text-muted-foreground"},t.original.description??"—")},{accessorKey:"color",header:"Color",cell:({row:t})=>{const l=t.original.color;return l?p(w,{variant:"outline",style:{background:`${l}18`,borderColor:`${l}50`,color:l}},()=>l):p(w,{variant:"secondary"},()=>"—")}},{accessorKey:"is_active",header:"Status",cell:({row:t})=>p(w,{variant:t.original.is_active?"default":"secondary"},()=>t.original.is_active?"Active":"Inactive")},{accessorKey:"developers_count",header:"Developers",cell:({row:t})=>p("span",{class:"text-muted-foreground"},String(t.original.developers_count??0))},{id:"actions",header:"",cell:({row:t})=>p(ee,{badge:t.original,onDelete:n,can:i})}]}const re={class:"rounded-md border"},se=C({__name:"BadgesDataTable",props:{data:{},onDelete:{type:Function}},setup(n){const i=n,t=K(),l=B(()=>({...t.props.auth?.can??{},...t.props.can??{}})),g=B(()=>te(i.onDelete,l.value)),m=T({get data(){return i.data},get columns(){return g.value},getCoreRowModel:j()});return(a,v)=>(o(),c("div",re,[s(e(I),null,{default:r(()=>[s(e(z),null,{default:r(()=>[(o(!0),c(b,null,h(e(m).getHeaderGroups(),_=>(o(),d(e(k),{key:_.id},{default:r(()=>[(o(!0),c(b,null,h(_.headers,u=>(o(),d(e(H),{key:u.id,colspan:u.colSpan},{default:r(()=>[u.column.columnDef.header?(o(),d(e(N),{key:0,render:u.column.columnDef.header,props:u.getContext()},null,8,["render","props"])):x("",!0)]),_:2},1032,["colspan"]))),128))]),_:2},1024))),128))]),_:1}),s(e(G),null,{default:r(()=>[e(m).getRowModel().rows?.length?(o(!0),c(b,{key:0},h(e(m).getRowModel().rows,_=>(o(),d(e(k),{key:_.id,"data-state":_.getIsSelected()?"selected":void 0},{default:r(()=>[(o(!0),c(b,null,h(_.getVisibleCells(),u=>(o(),d(e(F),{key:u.id},{default:r(()=>[s(e(N),{render:u.column.columnDef.cell,props:u.getContext()},null,8,["render","props"])]),_:2},1024))),128))]),_:2},1032,["data-state"]))),128)):(o(),d(e(k),{key:1},{default:r(()=>[s(e(F),{colspan:g.value.length,class:"h-24 text-center"},{default:r(()=>[...v[0]||(v[0]=[y(" No results. ",-1)])]),_:1},8,["colspan"])]),_:1}))]),_:1})]),_:1})]))}}),ae={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},oe={key:0,class:"rounded-lg border border-green-200 bg-green-50 px-4 py-3 text-sm font-medium text-green-800 dark:border-green-800 dark:bg-green-950/50 dark:text-green-200"},le={key:1,class:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm font-medium text-red-800 dark:border-red-800 dark:bg-red-950/50 dark:text-red-200"},ne={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},de={key:3,class:"flex flex-col items-center justify-center rounded-xl border border-dashed py-12"},Te=C({__name:"Index",props:{badges:{}},setup(n){const i=K(),t=B(()=>i.props.flash),l=[{title:"Dashboard",href:L().url},{title:"Badges",href:Y().url}];function g(m){window.confirm(`Are you sure you want to delete "${m.name}"?`)&&R.delete(M.destroy.url(m.id),{preserveScroll:!0})}return(m,a)=>(o(),c(b,null,[s(e(P),{title:"Badges"}),s(Q,{breadcrumbs:l},{default:r(()=>[f("div",ae,[t.value?.success?(o(),c("div",oe,A(t.value.success),1)):x("",!0),t.value?.error?(o(),c("div",le,A(t.value.error),1)):x("",!0),f("div",ne,[a[1]||(a[1]=f("div",null,[f("h1",{class:"text-2xl font-semibold tracking-tight"},"Badges"),f("p",{class:"text-muted-foreground"}," Manage badges that can be assigned to developers ")],-1)),s(e(D),{"as-child":""},{default:r(()=>[s(e($),{href:e(V)().url},{default:r(()=>[s(e(E),{class:"mr-2 h-4 w-4"}),a[0]||(a[0]=y(" Add Badge ",-1))]),_:1},8,["href"])]),_:1})]),n.badges.length>0?(o(),d(se,{key:2,data:n.badges,"on-delete":g},null,8,["data"])):(o(),c("div",de,[s(e(Z),{class:"mb-4 h-12 w-12 text-muted-foreground"}),a[3]||(a[3]=f("h3",{class:"mb-2 text-lg font-semibold"},"No badges yet",-1)),a[4]||(a[4]=f("p",{class:"mb-4 text-center text-sm text-muted-foreground"}," Get started by creating your first badge. ",-1)),s(e(D),{"as-child":""},{default:r(()=>[s(e($),{href:e(V)().url},{default:r(()=>[s(e(E),{class:"mr-2 h-4 w-4"}),a[2]||(a[2]=y(" Add Badge ",-1))]),_:1},8,["href"])]),_:1})]))])]),_:1})],64))}});export{Te as default};
