import{m as L,u as e,d as C,k as h,e as d,b as S,Y as k,V as x,o as f,W as xe,w as Ce,K as X,g as te,r as I,X as ue,z as oe,aj as Me,A as Y,P as we,ak as Ge,$ as Te,L as He,B as je,i as ee,S as qe,t as ie,U as Ie,c as W,F as ke,ae as We,n as Ee,f as Ae,j as Le}from"./app-EW944B-L.js";import{u as Be,a as be}from"./useForwardPropsEmits-BISw5jdW.js";import{u as Oe,a as Re,e as ye,c as de,b as pe,g as Xe,P as Ye,i as Je}from"./Collection-CKV9oJ_8.js";import{P as Qe,a as Ze,b as et}from"./PopperContent-Bw2xTC76.js";import{i as Fe,V as tt,u as ot}from"./VisuallyHiddenInput-Bck0QN-G.js";import{a as at,u as lt}from"./useTypeahead-DqKebK74.js";import{P as T,c as J,e as R,y as nt}from"./index-CDe0eL9-.js";import{g as st}from"./utils-C5Kk41sG.js";import{a as G,u as he,m as _e,r as rt}from"./useForwardExpose-N368YyX0.js";import{S as De}from"./search-IMbWRnS7.js";import{h as it,u as ut,a as dt,F as pt,D as ct,T as ft,X as mt}from"./Teleport-C5MOIu1E.js";import{_ as vt}from"./index-D1kCUC84.js";import{C as ht}from"./chevrons-up-down-DO-okxmT.js";import{C as $e}from"./check-vg9pfSRJ.js";function bt(n,s,t){const o=n.findIndex(r=>Fe(r,s)),a=n.findIndex(r=>Fe(r,t));if(o===-1||a===-1)return[];const[l,i]=[o,a].sort((r,p)=>r-p);return n.slice(l,i+1)}function yt(n){const s=L(()=>e(n)),t=L(()=>new Intl.Collator("en",{usage:"search",...s.value}));return{startsWith:(i,r)=>r.length===0?!0:(i=i.normalize("NFC"),r=r.normalize("NFC"),t.value.compare(i.slice(0,r.length),r)===0),endsWith:(i,r)=>r.length===0?!0:(i=i.normalize("NFC"),r=r.normalize("NFC"),t.value.compare(i.slice(-r.length),r)===0),contains:(i,r)=>{if(r.length===0)return!0;i=i.normalize("NFC"),r=r.normalize("NFC");let p=0;const F=r.length;for(;p+F<=i.length;p++){const b=i.slice(p,p+F);if(t.value.compare(r,b)===0)return!0}return!1}}}function gt(){return{ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"}}var _t=C({__name:"ComboboxAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const{forwardRef:s}=G();return(t,o)=>(f(),h(e(Qe),{"as-child":"",reference:t.reference},{default:d(()=>[S(e(T),k({ref:e(s),"as-child":t.asChild,as:t.as},t.$attrs),{default:d(()=>[x(t.$slots,"default")]),_:3},16,["as-child","as"])]),_:3},8,["reference"]))}}),Ct=_t;function xt(n,s,t){return n===void 0?!1:Array.isArray(n)?n.some(o=>ve(o,s,t)):ve(n,s,t)}function ve(n,s,t){return n===void 0||s===void 0?!1:typeof n=="string"?n===s:typeof t=="function"?t(n,s):typeof t=="string"?n?.[t]===s?.[t]:Fe(n,s)}const[Se,wt]=de("ListboxRoot");var qt=C({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(n,{expose:s,emit:t}){const o=n,a=t,{multiple:l,highlightOnHover:i,orientation:r,disabled:p,selectionBehavior:F,dir:b}=xe(o),{getItems:_}=Oe({isProvider:!0}),{handleTypeaheadSearch:B}=at(),{primitiveElement:q,currentElement:c}=ye(),E=gt(),D=Re(b),K=ot(c),y=I(),O=I(!1),m=I(!0),w=he(o,"modelValue",a,{defaultValue:o.defaultValue??(l.value?[]:void 0),passive:o.modelValue===void 0,deep:!0});function N(u){if(O.value=!0,o.multiple){const v=Array.isArray(w.value)?[...w.value]:[],g=v.findIndex(A=>ve(A,u,o.by));o.selectionBehavior==="toggle"?(g===-1?v.push(u):v.splice(g,1),w.value=v):(w.value=[u],y.value=u)}else o.selectionBehavior==="toggle"&&ve(w.value,u,o.by)?w.value=void 0:w.value=u;setTimeout(()=>{O.value=!1},1)}const V=I(null),ae=I(null),U=I(!1),Q=I(!1),le=_e(),ce=_e(),Z=_e();function ne(){return _().map(u=>u.ref).filter(u=>u.dataset.disabled!=="")}function $(u,v=!0){if(!u)return;V.value=u,m.value&&V.value.focus(),v&&V.value.scrollIntoView({block:"nearest"});const g=_().find(A=>A.ref===u);a("highlight",g)}function P(u){if(U.value)Z.trigger(u);else{const v=_().find(g=>ve(g.value,u,o.by));v&&(V.value=v.ref,$(v.ref))}}function z(u){V.value&&V.value.isConnected&&(u.preventDefault(),u.stopPropagation(),Q.value||V.value.click())}function M(u){if(m.value){if(O.value=!0,U.value)ce.trigger(u);else{const v=u.altKey||u.ctrlKey||u.metaKey;if(v&&u.key==="a"&&l.value){const g=_(),A=g.map(re=>re.value);w.value=[...A],u.preventDefault(),$(g[g.length-1].ref)}else if(!v){const g=B(u.key,_());g&&$(g)}}setTimeout(()=>{O.value=!1},1)}}function ge(){Q.value=!0}function fe(){X(()=>{Q.value=!1})}function se(){X(()=>{const u=new KeyboardEvent("keydown",{key:"PageUp"});Ve(u)})}function j(u){const v=V.value;v?.isConnected&&(ae.value=v),V.value=null,a("leave",u)}function Ne(u){const v=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if(u.currentTarget?.dispatchEvent(v),a("entryFocus",v),!v.defaultPrevented)if(ae.value)$(ae.value);else{const g=ne()?.[0];$(g)}}function Ve(u){const v=st(u,r.value,D.value);if(!v)return;let g=ne();if(V.value){if(v==="last")g.reverse();else if(v==="prev"||v==="next"){v==="prev"&&g.reverse();const A=g.indexOf(V.value);g=g.slice(A+1)}Ue(u,g[0])}if(g.length){const A=!V.value&&v==="prev"?g.length-1:0;$(g[A])}if(U.value)return ce.trigger(u)}function Ue(u,v){if(!(U.value||o.selectionBehavior!=="replace"||!l.value||!Array.isArray(w.value)||(u.altKey||u.ctrlKey||u.metaKey)&&!u.shiftKey)&&u.shiftKey){const A=_().filter(me=>me.ref.dataset.disabled!=="");let re=A.find(me=>me.ref===v)?.value;if(u.key===E.END?re=A[A.length-1].value:u.key===E.HOME&&(re=A[0].value),!re||!y.value)return;const ze=bt(A.map(me=>me.value),y.value,re);w.value=ze}}async function Pe(u){if(await X(),U.value)le.trigger(u);else{const v=ne(),g=v.find(A=>A.dataset.state==="checked");g?$(g):v.length&&$(v[0])}}return Ce(w,()=>{O.value||X(()=>{Pe()})},{immediate:!0,deep:!0}),s({highlightedElement:V,highlightItem:P,highlightFirstItem:se,highlightSelected:Pe,getItems:_}),wt({modelValue:w,onValueChange:N,multiple:l,orientation:r,dir:D,disabled:p,highlightOnHover:i,highlightedElement:V,isVirtual:U,virtualFocusHook:le,virtualKeydownHook:ce,virtualHighlightHook:Z,by:o.by,firstValue:y,selectionBehavior:F,focusable:m,onLeave:j,onEnter:Ne,changeHighlight:$,onKeydownEnter:z,onKeydownNavigation:Ve,onKeydownTypeAhead:M,onCompositionStart:ge,onCompositionEnd:fe,highlightFirstItem:se}),(u,v)=>(f(),h(e(T),{ref_key:"primitiveElement",ref:q,as:u.as,"as-child":u.asChild,dir:e(D),"data-disabled":e(p)?"":void 0,onPointerleave:j,onFocusout:v[0]||(v[0]=async g=>{const A=g.relatedTarget||g.target;await X(),V.value&&e(c)&&!e(c).contains(A)&&j(g)})},{default:d(()=>[x(u.$slots,"default",{modelValue:e(w)}),e(K)&&u.name?(f(),h(e(tt),{key:0,name:u.name,value:e(w),disabled:e(p),required:u.required},null,8,["name","value","disabled","required"])):te("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),Bt=qt,St=C({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const{CollectionSlot:s}=Oe(),t=Se(),o=rt(!1,10);return(a,l)=>(f(),h(e(s),null,{default:d(()=>[S(e(T),{role:"listbox",as:a.as,"as-child":a.asChild,tabindex:e(t).focusable.value?e(t).highlightedElement.value?"-1":"0":"-1","aria-orientation":e(t).orientation.value,"aria-multiselectable":!!e(t).multiple.value,"data-orientation":e(t).orientation.value,onMousedown:l[0]||(l[0]=oe(i=>o.value=!0,["left"])),onFocus:l[1]||(l[1]=i=>{e(o)||e(t).onEnter(i)}),onKeydown:[l[2]||(l[2]=ue(i=>{e(t).orientation.value==="vertical"&&(i.key==="ArrowLeft"||i.key==="ArrowRight")||e(t).orientation.value==="horizontal"&&(i.key==="ArrowUp"||i.key==="ArrowDown")||(i.preventDefault(),e(t).focusable.value&&e(t).onKeydownNavigation(i))},["down","up","left","right","home","end"])),ue(e(t).onKeydownEnter,["enter"]),e(t).onKeydownTypeAhead]},{default:d(()=>[x(a.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),Et=St,kt=C({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(n,{emit:s}){const t=n,a=he(t,"modelValue",s,{defaultValue:"",passive:t.modelValue===void 0}),l=Se(),{primitiveElement:i,currentElement:r}=ye(),p=L(()=>t.disabled||l.disabled.value||!1),F=I();return Me(()=>F.value=l.highlightedElement.value?.id),Y(()=>{l.focusable.value=!1,setTimeout(()=>{t.autoFocus&&r.value?.focus()},1)}),we(()=>{l.focusable.value=!0}),(b,_)=>(f(),h(e(T),{ref_key:"primitiveElement",ref:i,as:b.as,"as-child":b.asChild,value:e(a),disabled:p.value?"":void 0,"data-disabled":p.value?"":void 0,"aria-disabled":p.value??void 0,"aria-activedescendant":F.value,type:"text",onKeydown:[ue(oe(e(l).onKeydownNavigation,["prevent"]),["down","up","home","end"]),ue(e(l).onKeydownEnter,["enter"])],onInput:_[0]||(_[0]=B=>{a.value=B.target.value,e(l).highlightFirstItem()}),onCompositionstart:e(l).onCompositionStart,onCompositionend:e(l).onCompositionEnd},{default:d(()=>[x(b.$slots,"default",{modelValue:e(a)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),Ft=kt;const[Ho,It]=de("ListboxGroup");var Ot=C({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const s=n,t=pe(void 0,"reka-listbox-group");return It({id:t}),(o,a)=>(f(),h(e(T),k({role:"group"},s,{"aria-labelledby":e(t)}),{default:d(()=>[x(o.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),Vt=Ot;const Pt="listbox.select",[At,Lt]=de("ListboxItem");var $t=C({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(n,{emit:s}){const t=n,o=s,a=pe(void 0,"reka-listbox-item"),{CollectionItem:l}=Oe(),{forwardRef:i,currentElement:r}=G(),p=Se(),F=L(()=>r.value===p.highlightedElement.value),b=L(()=>xt(p.modelValue.value,t.value,p.by)),_=L(()=>p.disabled.value||t.disabled);async function B(c){o("select",c),!c?.defaultPrevented&&!_.value&&c&&(p.onValueChange(t.value),p.changeHighlight(r.value))}function q(c){const E={originalEvent:c,value:t.value};it(Pt,B,E)}return Lt({isSelected:b}),(c,E)=>(f(),h(e(l),{value:c.value},{default:d(()=>[Ge([F.value,b.value],()=>S(e(T),k({id:e(a)},c.$attrs,{ref:e(i),role:"option",tabindex:e(p).focusable.value?F.value?"0":"-1":-1,"aria-selected":b.value,as:c.as,"as-child":c.asChild,disabled:_.value?"":void 0,"data-disabled":_.value?"":void 0,"data-highlighted":F.value?"":void 0,"data-state":b.value?"checked":"unchecked",onClick:q,onKeydown:ue(oe(q,["prevent"]),["space"]),onPointermove:E[0]||(E[0]=()=>{e(p).highlightedElement.value!==e(r)&&e(p).highlightOnHover.value&&!e(p).focusable.value&&e(p).changeHighlight(e(r),!1)})}),{default:d(()=>[x(c.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),E,1)]),_:3},8,["value"]))}}),Tt=$t,Rt=C({__name:"ListboxItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(n){const s=n;G();const t=At();return(o,a)=>e(t).isSelected.value?(f(),h(e(T),k({key:0,"aria-hidden":"true"},s),{default:d(()=>[x(o.$slots,"default")]),_:3},16)):te("v-if",!0)}}),Dt=Rt;const[H,Kt]=de("ComboboxRoot");var Nt=C({__name:"ComboboxRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1,default:!0},resetSearchTermOnSelect:{type:Boolean,required:!1,default:!0},openOnFocus:{type:Boolean,required:!1,default:!1},openOnClick:{type:Boolean,required:!1,default:!1},ignoreFilter:{type:Boolean,required:!1},resetModelValueOnClear:{type:Boolean,required:!1,default:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},highlightOnHover:{type:Boolean,required:!1,default:!0},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","update:open"],setup(n,{expose:s,emit:t}){const o=n,a=t,{primitiveElement:l,currentElement:i}=ye(),{multiple:r,disabled:p,ignoreFilter:F,resetSearchTermOnSelect:b,openOnFocus:_,openOnClick:B,dir:q,resetModelValueOnClear:c,highlightOnHover:E}=xe(o),D=Re(q),K=he(o,"modelValue",a,{defaultValue:o.defaultValue??(r.value?[]:void 0),passive:o.modelValue===void 0,deep:!0}),y=he(o,"open",a,{defaultValue:o.defaultOpen,passive:o.open===void 0});async function O(P){y.value=P,Z.value="",P?(await X(),l.value?.highlightSelected(),w.value=!0,V.value?.focus()):(w.value=!1,setTimeout(()=>{!P&&o.resetSearchTermOnBlur&&m.trigger()},1))}const m=_e(),w=I(!1),N=I(!1),V=I(),ae=I(),U=L(()=>l.value?.highlightedElement??void 0),Q=I(new Map),le=I(new Map),{contains:ce}=yt({sensitivity:"base"}),Z=I(""),ne=L(P=>{if(!Z.value||o.ignoreFilter||N.value)return{count:Q.value.size,items:P?.items??new Map,groups:P?.groups??new Set(le.value.keys())};let z=0;const M=new Map,ge=new Set;for(const[fe,se]of Q.value){const j=ce(se,Z.value);M.set(fe,j?1:0),j&&z++}for(const[fe,se]of le.value)for(const j of se)if(M.get(j)>0){ge.add(fe);break}return{count:z,items:M,groups:ge}}),$=He();return Y(()=>{$?.exposed&&($.exposed.highlightItem=l.value?.highlightItem,$.exposed.highlightFirstItem=l.value?.highlightFirstItem,$.exposed.highlightSelected=l.value?.highlightSelected)}),s({filtered:ne,highlightedElement:U,highlightItem:l.value?.highlightItem,highlightFirstItem:l.value?.highlightFirstItem,highlightSelected:l.value?.highlightSelected}),Kt({modelValue:K,multiple:r,disabled:p,open:y,onOpenChange:O,contentId:"",isUserInputted:w,isVirtual:N,inputElement:V,highlightedElement:U,onInputElementChange:P=>V.value=P,triggerElement:ae,onTriggerElementChange:P=>ae.value=P,parentElement:i,resetSearchTermOnSelect:b,onResetSearchTerm:m.on,allItems:Q,allGroups:le,filterSearch:Z,filterState:ne,ignoreFilter:F,openOnFocus:_,openOnClick:B,resetModelValueOnClear:c}),(P,z)=>(f(),h(e(Ze),null,{default:d(()=>[S(e(Bt),k({ref_key:"primitiveElement",ref:l},P.$attrs,{modelValue:e(K),"onUpdate:modelValue":z[0]||(z[0]=M=>Te(K)?K.value=M:null),style:{pointerEvents:e(y)?"auto":void 0},as:P.as,"as-child":P.asChild,dir:e(D),multiple:e(r),name:P.name,required:P.required,disabled:e(p),"highlight-on-hover":e(E),by:o.by,onHighlight:z[1]||(z[1]=M=>a("highlight",M))}),{default:d(()=>[x(P.$slots,"default",{open:e(y),modelValue:e(K)})]),_:3},16,["modelValue","style","as","as-child","dir","multiple","name","required","disabled","highlight-on-hover","by"])]),_:3}))}}),Ut=Nt;const[jo,zt]=de("ComboboxContent");var Mt=C({__name:"ComboboxContentImpl",props:{position:{type:String,required:!1,default:"inline"},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(n,{emit:s}){const t=n,o=s,{position:a}=xe(t),l=H(),{forwardRef:i,currentElement:r}=G();ut(t.bodyLock),lt(),dt(l.parentElement);const p=L(()=>t.position==="popper"?t:{}),F=Be(p.value),b={boxSizing:"border-box","--reka-combobox-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-combobox-content-available-width":"var(--reka-popper-available-width)","--reka-combobox-content-available-height":"var(--reka-popper-available-height)","--reka-combobox-trigger-width":"var(--reka-popper-anchor-width)","--reka-combobox-trigger-height":"var(--reka-popper-anchor-height)"};zt({position:a});const _=I(!1);return Y(()=>{l.inputElement.value&&(_.value=r.value.contains(l.inputElement.value),_.value&&l.inputElement.value.focus())}),we(()=>{const B=Xe();_.value&&(!B||B===document.body)&&l.triggerElement.value?.focus()}),(B,q)=>(f(),h(e(Et),{"as-child":""},{default:d(()=>[S(e(pt),{"as-child":"",onMountAutoFocus:q[5]||(q[5]=oe(()=>{},["prevent"])),onUnmountAutoFocus:q[6]||(q[6]=oe(()=>{},["prevent"]))},{default:d(()=>[S(e(ct),{"as-child":"","disable-outside-pointer-events":B.disableOutsidePointerEvents,onDismiss:q[0]||(q[0]=c=>e(l).onOpenChange(!1)),onFocusOutside:q[1]||(q[1]=c=>{e(l).parentElement.value?.contains(c.target)&&c.preventDefault(),o("focusOutside",c)}),onInteractOutside:q[2]||(q[2]=c=>o("interactOutside",c)),onEscapeKeyDown:q[3]||(q[3]=c=>o("escapeKeyDown",c)),onPointerDownOutside:q[4]||(q[4]=c=>{e(l).parentElement.value?.contains(c.target)&&c.preventDefault(),o("pointerDownOutside",c)})},{default:d(()=>[(f(),h(je(e(a)==="popper"?e(et):e(T)),k({...B.$attrs,...e(F)},{id:e(l).contentId,ref:e(i),"data-state":e(l).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",...e(a)==="popper"?b:{}}}),{default:d(()=>[x(B.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3},8,["disable-outside-pointer-events"])]),_:3})]),_:3}))}}),Gt=Mt,Ht=C({__name:"ComboboxCancel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(n){const s=n;G();const t=H();function o(){t.filterSearch.value="",t.inputElement.value&&(t.inputElement.value.value="",t.inputElement.value.focus()),t.resetModelValueOnClear?.value&&(t.modelValue.value=t.multiple.value?[]:null)}return(a,l)=>(f(),h(e(T),k({type:a.as==="button"?"button":void 0},s,{tabindex:"-1",onClick:o}),{default:d(()=>[x(a.$slots,"default")]),_:3},16,["type"]))}}),jt=Ht,Wt=C({__name:"ComboboxContent",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(n,{emit:s}){const a=be(n,s),{forwardRef:l}=G(),i=H();return i.contentId||=pe(void 0,"reka-combobox-content"),(r,p)=>(f(),h(e(Ye),{present:r.forceMount||e(i).open.value},{default:d(()=>[S(Gt,k({...e(a),...r.$attrs},{ref:e(l)}),{default:d(()=>[x(r.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),Xt=Wt,Yt=C({__name:"ComboboxEmpty",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const s=n,t=H(),o=L(()=>t.ignoreFilter.value?t.allItems.value.size===0:t.filterState.value.count===0);return(a,l)=>o.value?(f(),h(e(T),qe(k({key:0},s)),{default:d(()=>[x(a.$slots,"default",{},()=>[l[0]||(l[0]=ee("No options"))])]),_:3},16)):te("v-if",!0)}}),Jt=Yt;const[Ke,Qt]=de("ComboboxGroup");var Zt=C({__name:"ComboboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const s=n,t=pe(void 0,"reka-combobox-group"),o=H(),a=L(()=>o.ignoreFilter.value?!0:o.filterSearch.value?o.filterState.value.groups.has(t):!0),l=Qt({id:t,labelId:""});return Y(()=>{o.allGroups.value.has(t)||o.allGroups.value.set(t,new Set)}),we(()=>{o.allGroups.value.delete(t)}),(i,r)=>(f(),h(e(Vt),k({id:e(t),"aria-labelledby":e(l).labelId},s,{hidden:a.value?void 0:!0}),{default:d(()=>[x(i.$slots,"default")]),_:3},16,["id","aria-labelledby","hidden"]))}}),eo=Zt,to=C({__name:"ComboboxInput",props:{displayValue:{type:Function,required:!1},modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(n,{emit:s}){const t=n,o=s,a=H(),l=Se(),{primitiveElement:i,currentElement:r}=ye(),p=he(t,"modelValue",o,{passive:t.modelValue===void 0});Y(()=>{r.value&&a.onInputElementChange(r.value)});function F(c){a.open.value||a.onOpenChange(!0)}function b(c){const E=c.target;a.open.value?a.filterSearch.value=E.value:(a.onOpenChange(!0),X(()=>{E.value&&(a.filterSearch.value=E.value,l.highlightFirstItem())}))}function _(){a.openOnFocus.value&&!a.open.value&&a.onOpenChange(!0)}function B(){a.openOnClick.value&&!a.open.value&&a.onOpenChange(!0)}function q(){const c=a.modelValue.value;t.displayValue?p.value=t.displayValue(c):!a.multiple.value&&c&&!Array.isArray(c)&&typeof c!="object"?p.value=c.toString():p.value="",X(()=>{p.value=p.value})}return a.onResetSearchTerm(()=>{q()}),Ce(a.modelValue,async()=>{!a.isUserInputted.value&&a.resetSearchTermOnSelect.value&&q()},{immediate:!0,deep:!0}),Ce(a.filterState,(c,E)=>{!a.isVirtual.value&&E.count===0&&l.highlightFirstItem()}),(c,E)=>(f(),h(e(Ft),{ref_key:"primitiveElement",ref:i,modelValue:e(p),"onUpdate:modelValue":E[0]||(E[0]=D=>Te(p)?p.value=D:null),as:c.as,"as-child":c.asChild,"auto-focus":c.autoFocus,disabled:c.disabled,"aria-expanded":e(a).open.value,"aria-controls":e(a).contentId,"aria-autocomplete":"list",role:"combobox",autocomplete:"off",onClick:B,onInput:b,onKeydown:ue(oe(F,["prevent"]),["down","up"]),onFocus:_},{default:d(()=>[x(c.$slots,"default")]),_:3},8,["modelValue","as","as-child","auto-focus","disabled","aria-expanded","aria-controls","onKeydown"]))}}),oo=to,ao=C({__name:"ComboboxItem",props:{textValue:{type:String,required:!1},value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(n,{emit:s}){const t=n,o=s,a=pe(void 0,"reka-combobox-item"),l=H(),i=Ke(null),{primitiveElement:r,currentElement:p}=ye();if(t.value==="")throw new Error("A <ComboboxItem /> must have a value prop that is not an empty string. This is because the Combobox value can be set to an empty string to clear the selection and show the placeholder.");const F=L(()=>{if(l.isVirtual.value||l.ignoreFilter.value||!l.filterSearch.value)return!0;{const b=l.filterState.value.items.get(a);return b===void 0?!0:b>0}});return Y(()=>{l.allItems.value.set(a,t.textValue||p.value.textContent||p.value.innerText);const b=i?.id;b&&(l.allGroups.value.has(b)?l.allGroups.value.get(b)?.add(a):l.allGroups.value.set(b,new Set([a])))}),we(()=>{l.allItems.value.delete(a)}),(b,_)=>F.value?(f(),h(e(Tt),k({key:0},t,{id:e(a),ref_key:"primitiveElement",ref:r,disabled:e(l).disabled.value||b.disabled,onSelect:_[0]||(_[0]=B=>{o("select",B),!B.defaultPrevented&&!e(l).multiple.value&&!b.disabled&&!e(l).disabled.value&&(B.preventDefault(),e(l).onOpenChange(!1),e(l).modelValue.value=t.value)})}),{default:d(()=>[x(b.$slots,"default",{},()=>[ee(ie(b.value),1)])]),_:3},16,["id","disabled"])):te("v-if",!0)}}),lo=ao,no=C({__name:"ComboboxItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(n){const s=n;return(t,o)=>(f(),h(e(Dt),qe(Ie(s)),{default:d(()=>[x(t.$slots,"default")]),_:3},16))}}),so=no,ro=C({__name:"ComboboxLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(n){const s=n;G();const t=Ke({id:"",labelId:""});return t.labelId||=pe(void 0,"reka-combobox-group-label"),(o,a)=>(f(),h(e(T),k(s,{id:e(t).labelId}),{default:d(()=>[x(o.$slots,"default")]),_:3},16,["id"]))}}),io=ro,uo=C({__name:"ComboboxPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(n){const s=n;return(t,o)=>(f(),h(e(ft),qe(Ie(s)),{default:d(()=>[x(t.$slots,"default")]),_:3},16))}}),po=uo,co=C({__name:"ComboboxTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(n){const s=n,{forwardRef:t,currentElement:o}=G(),a=H(),l=L(()=>s.disabled||a.disabled.value||!1);return Y(()=>{o.value&&a.onTriggerElementChange(o.value)}),(i,r)=>(f(),h(e(T),k(s,{ref:e(t),type:i.as==="button"?"button":void 0,tabindex:"-1","aria-label":"Show popup","aria-haspopup":"listbox","aria-expanded":e(a).open.value,"aria-controls":e(a).contentId,"data-state":e(a).open.value?"open":"closed",disabled:l.value,"data-disabled":l.value?"":void 0,"aria-disabled":l.value??void 0,onClick:r[0]||(r[0]=p=>e(a).onOpenChange(!e(a).open.value))}),{default:d(()=>[x(i.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","disabled","data-disabled","aria-disabled"]))}}),fo=co;function mo(n){const s=Je({nonce:I()});return L(()=>n?.value||s.nonce?.value)}var vo=C({__name:"ComboboxViewport",props:{nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const s=n,{forwardRef:t}=G(),{nonce:o}=xe(s),a=mo(o),l=H();return(i,r)=>(f(),W(ke,null,[S(e(T),k({...i.$attrs,...s},{ref:e(t),"data-reka-combobox-viewport":"",role:"presentation",style:{position:"relative",flex:e(l).isVirtual.value?void 0:1,overflow:"auto"}}),{default:d(()=>[x(i.$slots,"default")]),_:3},16,["style"]),S(e(T),{as:"style",nonce:e(a)},{default:d(()=>r[0]||(r[0]=[ee(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-combobox-viewport] { scrollbar-width:none; -ms-overflow-style: none; -webkit-overflow-scrolling: touch; } [data-reka-combobox-viewport]::-webkit-scrollbar { display: none; } ")])),_:1,__:[0]},8,["nonce"])],64))}}),ho=vo;const bo=C({__name:"Combobox",props:{open:{type:Boolean},defaultOpen:{type:Boolean},resetSearchTermOnBlur:{type:Boolean},resetSearchTermOnSelect:{type:Boolean},openOnFocus:{type:Boolean},openOnClick:{type:Boolean},ignoreFilter:{type:Boolean},resetModelValueOnClear:{type:Boolean},modelValue:{},defaultValue:{},multiple:{type:Boolean},dir:{},disabled:{type:Boolean},highlightOnHover:{type:Boolean},by:{type:[String,Function]},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","highlight","update:open"],setup(n,{emit:s}){const a=be(n,s);return(l,i)=>(f(),h(e(Ut),k({"data-slot":"combobox"},e(a)),{default:d(r=>[x(l.$slots,"default",qe(Ie(r)))]),_:3},16))}}),yo=C({__name:"ComboboxAnchor",props:{reference:{},asChild:{type:Boolean},as:{},class:{}},setup(n){const s=n,t=J(s,"class"),o=Be(t);return(a,l)=>(f(),h(e(Ct),k({"data-slot":"combobox-anchor"},e(o),{class:e(R)("w-[200px]",s.class)}),{default:d(()=>[x(a.$slots,"default")]),_:3},16,["class"]))}}),go=C({__name:"ComboboxEmpty",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const s=n,t=J(s,"class");return(o,a)=>(f(),h(e(Jt),k({"data-slot":"combobox-empty"},e(t),{class:e(R)("py-6 text-center text-sm",s.class)}),{default:d(()=>[x(o.$slots,"default")]),_:3},16,["class"]))}}),_o=C({__name:"ComboboxGroup",props:{asChild:{type:Boolean},as:{},class:{},heading:{}},setup(n){const s=n,t=J(s,"class");return(o,a)=>(f(),h(e(eo),k({"data-slot":"combobox-group"},e(t),{class:e(R)("overflow-hidden p-1 text-foreground",s.class)}),{default:d(()=>[n.heading?(f(),h(e(io),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:d(()=>[ee(ie(n.heading),1)]),_:1})):te("",!0),x(o.$slots,"default")]),_:3},16,["class"]))}}),Co={"data-slot":"command-input-wrapper",class:"flex h-9 items-center gap-2 border-b px-3"},xo=C({inheritAttrs:!1,__name:"ComboboxInput",props:{displayValue:{type:Function},modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue"],setup(n,{emit:s}){const t=n,o=s,a=J(t,"class"),l=be(a,o);return(i,r)=>(f(),W("div",Co,[S(e(De),{class:"size-4 shrink-0 opacity-50"}),S(e(oo),k({"data-slot":"command-input",class:e(R)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t.class)},{...i.$attrs,...e(l)}),{default:d(()=>[x(i.$slots,"default")]),_:3},16,["class"])]))}}),wo=C({__name:"ComboboxItem",props:{textValue:{},value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(n,{emit:s}){const t=n,o=s,a=J(t,"class"),l=be(a,o);return(i,r)=>(f(),h(e(lo),k({"data-slot":"combobox-item"},e(l),{class:e(R)("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t.class)}),{default:d(()=>[x(i.$slots,"default")]),_:3},16,["class"]))}}),qo=C({__name:"ComboboxItemIndicator",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const s=n,t=J(s,"class"),o=Be(t);return(a,l)=>(f(),h(e(so),k({"data-slot":"combobox-item-indicator"},e(o),{class:e(R)("ml-auto",s.class)}),{default:d(()=>[x(a.$slots,"default")]),_:3},16,["class"]))}}),Bo=C({inheritAttrs:!1,__name:"ComboboxList",props:{forceMount:{type:Boolean},position:{default:"popper"},bodyLock:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{default:"center"},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},hideShiftedArrow:{type:Boolean},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(n,{emit:s}){const t=n,o=s,a=J(t,"class"),l=be(a,o);return(i,r)=>(f(),h(e(po),null,{default:d(()=>[S(e(Xt),k({"data-slot":"combobox-list"},{...i.$attrs,...e(l)},{class:e(R)("z-50 w-[200px] rounded-md border bg-popover text-popover-foreground origin-(--reka-combobox-content-transform-origin) overflow-hidden shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t.class)}),{default:d(()=>[x(i.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),So=C({__name:"ComboboxViewport",props:{nonce:{},asChild:{type:Boolean},as:{},class:{}},setup(n){const s=n,t=J(s,"class"),o=Be(t);return(a,l)=>(f(),h(e(ho),k({"data-slot":"combobox-viewport"},e(o),{class:e(R)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",s.class)}),{default:d(()=>[x(a.$slots,"default")]),_:3},16,["class"]))}}),Eo={type:"button",class:"flex min-w-0 flex-1 cursor-pointer items-center gap-2 bg-transparent text-left outline-none"},ko={key:0,class:"flex flex-1 flex-wrap items-center gap-1"},Fo=["onClick"],Io={class:"relative"},Oo=["disabled"],Wo=C({__name:"SearchableSelect",props:{modelValue:{default:null},multiple:{type:Boolean,default:!1},open:{type:Boolean},options:{default:()=>[]},optionsUrl:{},placeholder:{default:"Search..."},id:{},class:{},maxOptions:{default:50},allowClear:{type:Boolean,default:!0}},emits:["update:modelValue","update:open"],setup(n,{emit:s}){const t=We(),o=n,a=s,l=I(""),i=I([]),r=I(!1),p=I(!1),F=L(()=>o.open!==void 0?o.open:p.value);function b(y){o.open===void 0&&(p.value=y),a("update:open",y)}const _=L(()=>{const y=o.modelValue;return y==null?[]:Array.isArray(y)?y:[y]}),B=L(()=>_.value.map(y=>c.value.find(m=>m.value===y||m.label===y)??{value:y,label:y})),q=L(()=>o.multiple&&B.value.length>0?B.value.map(y=>y.label).join(", "):B.value[0]?.label??""),c=L(()=>{if(o.optionsUrl){const y=_.value.map(m=>i.value.find(N=>N.value===m||N.label===m)??{value:m,label:m}).filter(m=>m.value),O=i.value.filter(m=>!y.some(w=>w.value===m.value));return[...y,...O].slice(0,o.maxOptions)}return(o.options??[]).slice(0,o.maxOptions)});async function E(){if(o.optionsUrl){r.value=!0;try{const y=new URL(o.optionsUrl,window.location.origin);l.value&&y.searchParams.set("search",l.value);const O=await fetch(y.toString());if(!O.ok)throw new Error("Failed to fetch options");const m=await O.json();i.value=Array.isArray(m.data)?m.data:[]}catch{i.value=[]}finally{r.value=!1}}}const D=nt(()=>{o.optionsUrl&&E()},300);Ce(()=>l.value,()=>{o.optionsUrl&&D()}),Y(()=>{o.optionsUrl&&E()});function K(y,O){O.stopPropagation();const m=_.value.filter(w=>w!==y);a("update:modelValue",m.length>0?m:[])}return(y,O)=>(f(),h(e(bo),{name:n.id??e(t),"model-value":n.multiple?_.value:_.value[0]??null,multiple:n.multiple,open:F.value,"open-on-click":!0,"ignore-filter":!!n.optionsUrl,"reset-search-term-on-select":!1,"onUpdate:modelValue":O[1]||(O[1]=m=>a("update:modelValue",n.multiple?Array.isArray(m)?m:[]:Array.isArray(m)?m[0]??null:m??null)),"onUpdate:open":b},{default:d(()=>[S(e(yo),{class:Ee(e(R)("flex h-auto min-h-9 w-full items-center justify-between gap-2 rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm transition-colors","focus-within:outline-none focus-within:ring-1 focus-within:ring-ring",o.class))},{default:d(()=>[S(e(fo),{id:n.id,"as-child":"",class:"flex min-w-0 flex-1 cursor-pointer items-center gap-2 outline-none"},{default:d(()=>[Ae("button",Eo,[n.multiple&&B.value.length>0?(f(),W("span",ko,[(f(!0),W(ke,null,Le(B.value,(m,w)=>(f(),h(e(vt),{key:`${e(t)}-badge-${m.value}-${w}`,variant:"secondary",class:"gap-1 pr-1 font-normal"},{default:d(()=>[ee(ie(m.label)+" ",1),n.allowClear?(f(),W("button",{key:0,type:"button",class:"rounded-full outline-none ring-offset-background hover:bg-secondary focus:ring-2 focus:ring-ring focus:ring-offset-2","aria-label":"Remove",onClick:oe(N=>K(m.value,N),["stop"])},[S(e(mt),{class:"size-3.5"})],8,Fo)):te("",!0)]),_:2},1024))),128))])):(f(),W("span",{key:1,class:Ee(e(R)("flex-1 truncate text-left",!q.value&&"text-muted-foreground"))},ie(q.value||n.placeholder),3)),S(e(ht),{class:"size-4 shrink-0 opacity-50"})])]),_:1},8,["id"]),S(e(jt),{class:"sr-only"})]),_:1},8,["class"]),S(e(Bo),{class:"w-[var(--reka-combobox-trigger-width)] max-h-[300px] p-0",align:"start"},{default:d(()=>[Ae("div",Io,[S(e(xo),{modelValue:l.value,"onUpdate:modelValue":O[0]||(O[0]=m=>l.value=m),placeholder:n.placeholder,class:"flex-1 border-0 rounded-none pr-10"},null,8,["modelValue","placeholder"]),n.optionsUrl?(f(),W("button",{key:0,type:"button",class:"absolute right-2 top-1/2 -translate-y-1/2 rounded p-1.5 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground","aria-label":"Search",disabled:r.value,onClick:E},[S(e(De),{class:"size-4"})],8,Oo)):te("",!0)]),S(e(So),null,{default:d(()=>[S(e(go),null,{default:d(()=>[ee(ie(r.value?"Searching...":"No results found."),1)]),_:1}),S(e(_o),null,{default:d(()=>[(f(!0),W(ke,null,Le(c.value,(m,w)=>(f(),h(e(wo),{key:`${e(t)}-item-${m.value}-${w}`,value:m.value,"text-value":m.label},{default:d(()=>[n.multiple?(f(),h(e($e),{key:0,class:Ee(e(R)("mr-2 size-4 shrink-0",_.value.includes(m.value)?"opacity-100":"opacity-0"))},null,8,["class"])):(f(),h(e(qo),{key:1,class:"mr-2"},{default:d(()=>[S(e($e),{class:"size-4"})]),_:1})),ee(" "+ie(m.label),1)]),_:2},1032,["value","text-value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["name","model-value","multiple","open","ignore-filter"]))}});export{Wo as _};
