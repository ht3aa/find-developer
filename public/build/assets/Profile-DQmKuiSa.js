import{d as ne,w as H,M as de,c as D,b as o,u as s,h as me,e as u,f as r,o as V,k as z,i as n,g as Y,z as pe,q as C,C as fe,N as ve,t as L,T as _e,v as ce,F as be,m as y,r as _,a as ge,x as ye}from"./app-M29AK83g.js";import{q as $,d as xe,_ as I}from"./index-B7SKF10A.js";import{_ as he}from"./DeveloperCard.vue_vue_type_script_setup_true_lang-BPeBqlfF.js";import{_ as Ve}from"./FileUpload.vue_vue_type_script_setup_true_lang-BBbdnKPD.js";import{_ as ke}from"./Heading.vue_vue_type_script_setup_true_lang-BDHOBZq2.js";import{_ as S}from"./InputError.vue_vue_type_script_setup_true_lang-BGUxyCuH.js";import{_ as F}from"./SearchableSelect.vue_vue_type_script_setup_true_lang-CHsBDjls.js";import{_ as J,a as G}from"./CardContent.vue_vue_type_script_setup_true_lang-C9-Tpenh.js";import{_ as Z}from"./CardHeader.vue_vue_type_script_setup_true_lang-BQlzvGIE.js";import{_ as c}from"./Input.vue_vue_type_script_setup_true_lang-BNozW0zc.js";import{_ as d}from"./Label.vue_vue_type_script_setup_true_lang-Bjy0Q1Vp.js";import{_ as K}from"./Separator.vue_vue_type_script_setup_true_lang-Ccmxoujk.js";import{m as we,_ as Ue}from"./AppLayout.vue_vue_type_script_setup_true_lang-C7TeBUC6.js";import{U as W}from"./user-CGPKZwxf.js";import{D as je}from"./BadgeIcon.vue_vue_type_script_setup_true_lang-5Inckatc.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-Ea0pjdQB.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-CkHx7H9C.js";import"./useForwardPropsEmits-Deb2pzz2.js";import"./useForwardExpose-Cx8BAAbS.js";import"./PopperContent-DrHc3sgR.js";import"./Collection-Cd5v9EuD.js";import"./Teleport-CrNyNosW.js";import"./createLucideIcon-BBR4Dv_J.js";import"./VisuallyHidden-B-YxC7GY.js";import"./TooltipProvider.vue_vue_type_script_setup_true_lang-D83sDfWw.js";import"./index-DqeE0pS4.js";import"./users-pDqaUDHI.js";import"./thumbs-up-jm2JDNAq.js";import"./mail-BdRVRbMh.js";import"./file-text-DIe8ydEz.js";import"./file-up-D_sh4VZh.js";import"./VisuallyHiddenInput-B9-1oMSC.js";import"./useTypeahead-D1gNpy2S.js";import"./utils-Br7GRv29.js";import"./search-EtSs6lIB.js";import"./chevrons-up-down-BoyaGV_I.js";import"./check-DHEFTZ7I.js";import"./index-CNXl6HPK.js";import"./index-D_WOp2dO.js";import"./RovingFocusGroup-Bk7gbXyC.js";import"./SheetDescription.vue_vue_type_script_setup_true_lang-D5e20m1S.js";import"./arrow-left-DGX82xUw.js";import"./quote-D7LBacXY.js";import"./box-BOWzUsh2.js";import"./tag-COrbQa7E.js";import"./chevron-left-Cm_GU7EG.js";import"./shield-check-DBZko2wb.js";import"./copy-Be6LrSWt.js";import"./trash-2-BmU9KNMm.js";import"./external-link-CEYL-tBI.js";import"./menu-bSSF00V_.js";import"./loader-circle-CzdpZH18.js";import"./monitor-B-RG5Qlk.js";import"./sun-BpwqN5lW.js";import"./pencil-DZZv1DV6.js";import"./plus-KcSrMP9r.js";const m=t=>({url:m.url(t),method:"get"});m.definition={methods:["get","head"],url:"/dashboard/developer-profile"};m.url=t=>m.definition.url+$(t);m.get=t=>({url:m.url(t),method:"get"});m.head=t=>({url:m.url(t),method:"head"});const q=t=>({action:m.url(t),method:"get"});q.get=t=>({action:m.url(t),method:"get"});q.head=t=>({action:m.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});m.form=q;const f=t=>({url:f.url(t),method:"put"});f.definition={methods:["put"],url:"/dashboard/developer-profile"};f.url=t=>f.definition.url+$(t);f.put=t=>({url:f.url(t),method:"put"});const ee=t=>({action:f.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...t?.query??t?.mergeQuery??{}}}),method:"post"});ee.put=t=>({action:f.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...t?.query??t?.mergeQuery??{}}}),method:"post"});f.form=ee;const p=t=>({url:p.url(t),method:"get"});p.definition={methods:["get","head"],url:"/dashboard/developer-profile/cv"};p.url=t=>p.definition.url+$(t);p.get=t=>({url:p.url(t),method:"get"});p.head=t=>({url:p.url(t),method:"head"});const P=t=>({action:p.url(t),method:"get"});P.get=t=>({action:p.url(t),method:"get"});P.head=t=>({action:p.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});p.form=P;const X={index:m,update:f,downloadCv:p},Se={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},Te={class:"flex flex-wrap items-center justify-between gap-3"},De={class:"flex items-center gap-3"},Ce={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10"},Fe=["href"],$e={key:0,class:"grid gap-6 lg:grid-cols-2"},qe={class:"space-y-4"},Pe={class:"grid gap-2"},Qe={class:"grid gap-2"},Ae={class:"grid gap-2"},Ne={class:"grid gap-2"},Be={class:"grid gap-2"},Me={class:"grid gap-2"},Ee={class:"grid gap-2 sm:grid-cols-2"},Oe={class:"grid gap-2"},Re={class:"grid gap-2"},He={class:"grid gap-2"},ze={class:"grid gap-2"},Ye={class:"grid gap-2"},Le={class:"grid gap-2"},Ie={class:"flex items-center gap-4"},Je={class:"flex items-center space-x-2"},Ge={class:"flex flex-wrap items-center gap-3 pt-4"},Ze={class:"inline-flex items-center gap-1.5 rounded-md bg-green-500/10 px-2.5 py-1 text-sm font-medium text-green-700 dark:text-green-400"},Ke={key:1,class:"flex flex-col items-center justify-center rounded-xl border border-dashed py-12"},et=ne({__name:"Profile",props:{developer:{},jobTitles:{}},setup(t){const Q=[{value:"full-time",label:"Full-time"},{value:"part-time",label:"Part-time"},{value:"freelance",label:"Freelance"},{value:"hybrid",label:"Hybrid"},{value:"remote",label:"Remote"},{value:"remote-full-time",label:"Remote Full-time"},{value:"hybrid-full-time",label:"Hybrid Full-time"}],x=t,A=ye(),N=y(()=>A.props.flash?.success),h=y(()=>A.props.errors??{}),le=[{title:"Dashboard",href:xe().url},{title:"Developer Profile",href:we().url}];function te(l){if(!l)return null;const e=l.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/);return e?e[1]:null}const v=_(!1),B=y(()=>{if(!i.value)return null;const l=i.value,e=l.youtube_url;return{id:l.id,name:l.name,slug:l.slug??null,email:l.email,years_of_experience:Number(l.years_of_experience)||0,phone:l.phone||null,expected_salary_from:l.expected_salary_from?Number(l.expected_salary_from):null,expected_salary_to:l.expected_salary_to?Number(l.expected_salary_to):null,currency:l.salary_currency||null,is_available:v.value,bio:l.bio||null,portfolio_url:l.portfolio_url||null,github_url:l.github_url||null,linkedin_url:l.linkedin_url||null,cv_path_url:l.cv_path_url??null,recommendations_received_count:l.recommendations_received_count??0,recommended_by_us:l.recommended_by_us,youtube_video_id:te(e)??l.youtube_video_id??null,badges:l.badges??[],job_title:{name:l.job_title?.name??""},location:l.location?{label:l.location.label}:null,skills:l.skills??[],availability_type:l.availability_type??[],profile_url:l.slug?`/developers/${l.slug}`:void 0}}),i=_(null),M=y({get:()=>i.value?.youtube_url??"",set:l=>{i.value&&(i.value.youtube_url=l||null)}}),E=y({get:()=>{const l=i.value?.job_title?.name;return x.jobTitles.find(e=>e.name===l)?.id.toString()??null},set:l=>{if(!i.value)return;if(!l){i.value.job_title={name:""};return}const e=x.jobTitles.find(a=>a.id.toString()===l);e&&(i.value.job_title={name:e.name})}}),O=y({get:()=>(i.value?.skills??[]).map(l=>l.name),set:l=>{if(!i.value)return;const e=Array.isArray(l)?l:l?[l]:[];i.value.skills=e.map(a=>({name:String(a)}))}});H(()=>x.developer,l=>{l?(v.value=!!l.is_available,i.value=de({...l,is_available:v.value,job_title:l.job_title,location:l.location,skills:[...l.skills??[]],badges:[...l.badges??[]],availability_type:[...l.availability_type??[]]})):(i.value=null,v.value=!1)},{immediate:!0}),H(v,l=>{i.value&&(i.value.is_available=l)});const k=_(!1),w=_(!1),U=_(!1),g=_(null),R=_(null);function oe(l){k.value=l,l&&(w.value=!1,U.value=!1)}function ae(l){w.value=l,l&&(k.value=!1,U.value=!1)}function ie(l){U.value=l,l&&(k.value=!1,w.value=!1)}const j=_(!1);function re(){if(!x.developer||!i.value)return;const l=i.value,e=x.jobTitles.find(b=>b.name===l.job_title?.name);j.value=!0;const a={name:l.name??"",email:l.email??"",phone:l.phone??"",job_title_id:e?.id??null,years_of_experience:Number(l.years_of_experience)||0,bio:l.bio??null,portfolio_url:l.portfolio_url??null,github_url:l.github_url??null,linkedin_url:l.linkedin_url??null,youtube_url:l.youtube_url??null,is_available:v.value?1:0,availability_type:(l.availability_type??[]).map(b=>b.value),skill_names:(l.skills??[]).map(b=>b.name)};g.value&&(a.cv=g.value),ge.put(X.update.url(),a,{preserveScroll:!0,forceFormData:!!g.value,onSuccess:()=>{g.value=null,R.value?.clear()},onFinish:()=>{j.value=!1}})}return(l,e)=>(V(),D(be,null,[o(s(me),{title:"Developer Profile"}),o(Ue,{breadcrumbs:le},{default:u(()=>[r("div",Se,[r("div",Te,[r("div",De,[r("div",Ce,[o(s(W),{class:"h-6 w-6 text-primary"})]),r("div",null,[o(ke,{title:"Developer Profile",description:"Edit developer information and preview the card"})])]),t.developer?(V(),z(s(I),{key:0,variant:"outline",size:"sm","as-child":""},{default:u(()=>[r("a",{href:s(X).downloadCv.url(),download:""},[o(s(je),{class:"mr-2 h-4 w-4"}),e[14]||(e[14]=n(" Download CV ",-1))],8,Fe)]),_:1})):Y("",!0)]),t.developer&&i.value?(V(),D("div",$e,[o(s(J),null,{default:u(()=>[o(s(Z),{class:"pb-4"},{default:u(()=>[...e[15]||(e[15]=[r("h3",{class:"text-sm font-medium text-muted-foreground"}," Edit developer information ",-1)])]),_:1}),o(s(G),null,{default:u(()=>[r("form",{class:"space-y-6",onSubmit:pe(re,["prevent"])},[r("div",qe,[r("div",Pe,[o(s(d),{for:"name"},{default:u(()=>[...e[16]||(e[16]=[n("Name ",-1),r("span",{class:"text-destructive"},"*",-1)])]),_:1}),o(s(c),{id:"name",modelValue:i.value.name,"onUpdate:modelValue":e[0]||(e[0]=a=>i.value.name=a),name:"name",required:"",placeholder:"Developer name",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"]),o(S,{message:h.value.name},null,8,["message"])]),r("div",Qe,[o(s(d),{for:"email"},{default:u(()=>[...e[17]||(e[17]=[n("Email ",-1),r("span",{class:"text-destructive"},"*",-1)])]),_:1}),o(s(c),{id:"email",modelValue:i.value.email,"onUpdate:modelValue":e[1]||(e[1]=a=>i.value.email=a),name:"email",type:"email",required:"",placeholder:"email@example.com",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"]),o(S,{message:h.value.email},null,8,["message"])]),r("div",Ae,[o(s(d),{for:"phone"},{default:u(()=>[...e[18]||(e[18]=[n("Phone",-1)])]),_:1}),o(s(c),{id:"phone",modelValue:i.value.phone,"onUpdate:modelValue":e[2]||(e[2]=a=>i.value.phone=a),name:"phone",placeholder:"+964...",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"])]),r("div",Ne,[o(s(d),{for:"job_title"},{default:u(()=>[...e[19]||(e[19]=[n("Job title ",-1),r("span",{class:"text-destructive"},"*",-1)])]),_:1}),o(F,{id:"job_title",modelValue:E.value,"onUpdate:modelValue":e[3]||(e[3]=a=>E.value=a),open:k.value,options:t.jobTitles.map(a=>({value:a.id.toString(),label:a.name})),placeholder:"e.g. Backend Developer","onUpdate:open":oe},null,8,["modelValue","open","options"]),o(S,{message:h.value.job_title_id},null,8,["message"])]),r("div",Be,[o(s(d),{for:"years_of_experience"},{default:u(()=>[...e[20]||(e[20]=[n("Years of experience ",-1),r("span",{class:"text-destructive"},"*",-1)])]),_:1}),o(s(c),{id:"years_of_experience",modelValue:i.value.years_of_experience,"onUpdate:modelValue":e[4]||(e[4]=a=>i.value.years_of_experience=a),modelModifiers:{number:!0},name:"years_of_experience",type:"number",min:"0",max:"100",required:"",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"]),o(S,{message:h.value.years_of_experience},null,8,["message"])]),r("div",Me,[o(s(d),{for:"bio"},{default:u(()=>[...e[21]||(e[21]=[n("Bio",-1)])]),_:1}),C(r("textarea",{id:"bio","onUpdate:modelValue":e[5]||(e[5]=a=>i.value.bio=a),name:"bio",rows:"3",class:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",placeholder:"Brief bio..."},null,512),[[fe,i.value.bio]])]),o(s(K)),e[29]||(e[29]=r("h4",{class:"text-sm font-medium"},"URLs",-1)),r("div",Ee,[r("div",Oe,[o(s(d),{for:"portfolio_url"},{default:u(()=>[...e[22]||(e[22]=[n("Portfolio",-1)])]),_:1}),o(s(c),{id:"portfolio_url",modelValue:i.value.portfolio_url,"onUpdate:modelValue":e[6]||(e[6]=a=>i.value.portfolio_url=a),name:"portfolio_url",type:"url",placeholder:"https://...",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"])]),r("div",Re,[o(s(d),{for:"github_url"},{default:u(()=>[...e[23]||(e[23]=[n("GitHub",-1)])]),_:1}),o(s(c),{id:"github_url",modelValue:i.value.github_url,"onUpdate:modelValue":e[7]||(e[7]=a=>i.value.github_url=a),name:"github_url",type:"url",placeholder:"https://github.com/...",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"])]),r("div",He,[o(s(d),{for:"linkedin_url"},{default:u(()=>[...e[24]||(e[24]=[n("LinkedIn",-1)])]),_:1}),o(s(c),{id:"linkedin_url",modelValue:i.value.linkedin_url,"onUpdate:modelValue":e[8]||(e[8]=a=>i.value.linkedin_url=a),name:"linkedin_url",type:"url",placeholder:"https://linkedin.com/...",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"])]),r("div",ze,[o(s(d),{for:"youtube_url"},{default:u(()=>[...e[25]||(e[25]=[n("YouTube",-1)])]),_:1}),o(s(c),{id:"youtube_url",modelValue:M.value,"onUpdate:modelValue":e[9]||(e[9]=a=>M.value=a),name:"youtube_url",type:"url",placeholder:"https://youtube.com/...",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"])])]),o(Ve,{id:"cv",ref_key:"cvUploadRef",ref:R,modelValue:g.value,"onUpdate:modelValue":e[10]||(e[10]=a=>g.value=a),label:"CV (PDF, max 10MB)",accept:".pdf,application/pdf","existing-url":i.value?.cv_path_url??null,"existing-label":"View current CV",error:h.value.cv},null,8,["modelValue","existing-url","error"]),o(s(K)),r("div",Ye,[o(s(d),{for:"skill_ids"},{default:u(()=>[...e[26]||(e[26]=[n("Skills",-1)])]),_:1}),o(F,{id:"skill_ids",modelValue:O.value,"onUpdate:modelValue":e[11]||(e[11]=a=>O.value=a),open:w.value,"options-url":"/api/skills",placeholder:"e.g. Laravel, Vue",multiple:"","max-options":50,"onUpdate:open":ae},null,8,["modelValue","open"])]),r("div",Le,[o(s(d),{for:"availability_type"},{default:u(()=>[...e[27]||(e[27]=[n("Availability type",-1)])]),_:1}),o(F,{id:"availability_type","model-value":(i.value.availability_type??[]).map(a=>a.value),open:U.value,options:Q,placeholder:"e.g. Full-time, Remote",multiple:"","onUpdate:modelValue":e[12]||(e[12]=a=>{const b=Array.isArray(a)?a:a?[a]:[];i.value&&(i.value.availability_type=b.map(T=>{const se=Q.find(ue=>ue.value===T);return{value:String(T),label:se?.label??String(T)}}))}),"onUpdate:open":ie},null,8,["model-value","open"])]),r("div",Ie,[r("div",Je,[C(r("input",{id:"is_available","onUpdate:modelValue":e[13]||(e[13]=a=>v.value=a),type:"checkbox",name:"is_available",value:"1",class:"size-4 shrink-0 rounded border border-input shadow-xs outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50"},null,512),[[ve,v.value]]),o(s(d),{for:"is_available"},{default:u(()=>[...e[28]||(e[28]=[n("Available",-1)])]),_:1})])])]),r("div",Ge,[o(s(I),{type:"submit",disabled:j.value},{default:u(()=>[n(L(j.value?"Saving...":"Save changes"),1)]),_:1},8,["disabled"]),o(_e,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 translate-y-1","leave-active-class":"transition ease-in duration-150","leave-to-class":"opacity-0"},{default:u(()=>[C(r("span",Ze,[e[30]||(e[30]=r("span",{class:"h-1.5 w-1.5 rounded-full bg-green-500"},null,-1)),n(" "+L(N.value),1)],512),[[ce,N.value]])]),_:1})])],32)]),_:1})]),_:1}),o(s(J),{class:"h-fit"},{default:u(()=>[o(s(Z),{class:"pb-4"},{default:u(()=>[...e[31]||(e[31]=[r("h3",{class:"text-sm font-medium text-muted-foreground"}," Card preview ",-1),r("p",{class:"text-xs text-muted-foreground"}," Changes are reflected in real-time ",-1)])]),_:1}),o(s(G),null,{default:u(()=>[B.value?(V(),z(he,{key:0,developer:B.value},null,8,["developer"])):Y("",!0)]),_:1})]),_:1})])):(V(),D("div",Ke,[o(s(W),{class:"mb-4 h-12 w-12 text-muted-foreground"}),e[32]||(e[32]=r("h3",{class:"mb-2 text-lg font-semibold"},"No developer profile",-1)),e[33]||(e[33]=r("p",{class:"text-center text-sm text-muted-foreground"}," You do not have a developer profile. Please contact an administrator to set one up. ",-1))]))])]),_:1})],64))}});export{et as default};
