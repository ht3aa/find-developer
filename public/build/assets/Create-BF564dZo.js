import{d as w,c as $,b as r,u as t,h as F,e as l,f as s,o as c,k as h,z as V,i as B,t as N,F as T,r as _,m as S,a as U,x as A}from"./app-M29AK83g.js";import{D as E}from"./DeveloperController-CUWbSEv4.js";import{_ as R}from"./DeveloperFormFields.vue_vue_type_script_setup_true_lang-fP-rXxVQ.js";import{_ as z}from"./Heading.vue_vue_type_script_setup_true_lang-BDHOBZq2.js";import{d as M,_ as v}from"./index-B7SKF10A.js";import{_ as y,a as g}from"./CardContent.vue_vue_type_script_setup_true_lang-C9-Tpenh.js";import{_ as P}from"./CardHeader.vue_vue_type_script_setup_true_lang-BQlzvGIE.js";import{j as b,k as q,_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-C7TeBUC6.js";import{U as H}from"./users-pDqaUDHI.js";import"./FileUpload.vue_vue_type_script_setup_true_lang-BBbdnKPD.js";import"./Label.vue_vue_type_script_setup_true_lang-Bjy0Q1Vp.js";import"./useForwardExpose-Cx8BAAbS.js";import"./InputError.vue_vue_type_script_setup_true_lang-BGUxyCuH.js";import"./file-up-D_sh4VZh.js";import"./createLucideIcon-BBR4Dv_J.js";import"./Teleport-CrNyNosW.js";import"./Collection-Cd5v9EuD.js";import"./SearchableSelect.vue_vue_type_script_setup_true_lang-CHsBDjls.js";import"./useForwardPropsEmits-Deb2pzz2.js";import"./PopperContent-DrHc3sgR.js";import"./VisuallyHiddenInput-B9-1oMSC.js";import"./VisuallyHidden-B-YxC7GY.js";import"./useTypeahead-D1gNpy2S.js";import"./utils-Br7GRv29.js";import"./search-EtSs6lIB.js";import"./index-DqeE0pS4.js";import"./chevrons-up-down-BoyaGV_I.js";import"./check-DHEFTZ7I.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-DTZqWolN.js";import"./RovingFocusGroup-Bk7gbXyC.js";import"./Input.vue_vue_type_script_setup_true_lang-BNozW0zc.js";import"./index-CNXl6HPK.js";import"./Separator.vue_vue_type_script_setup_true_lang-Ccmxoujk.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-CkHx7H9C.js";import"./index-D_WOp2dO.js";import"./SheetDescription.vue_vue_type_script_setup_true_lang-D5e20m1S.js";import"./user-CGPKZwxf.js";import"./file-text-DIe8ydEz.js";import"./thumbs-up-jm2JDNAq.js";const I={class:"w-full space-y-6 rounded-xl p-4"},J={class:"flex items-center gap-3"},K={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10"},L={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},O={class:"flex flex-wrap items-center gap-3 pt-4"},Q=["href"],W=["href"],Ee=w({__name:"Create",props:{users:{},jobTitles:{}},setup(n){const x=n,p=_({user_id:null,name:"",email:"",phone:"",job_title:{name:""},years_of_experience:0,bio:"",portfolio_url:"",github_url:"",linkedin_url:"",youtube_url:"",is_available:!1,availability_type:[],skills:[],status:"pending",recommended_by_us:!1}),d=_(null),u=_(!1),k=A(),j=S(()=>k.props.errors??{}),D=[{title:"Dashboard",href:M().url},{title:"Developers",href:b().url},{title:"Create",href:q().url}];function C(){const e=p.value,a=x.jobTitles.find(i=>i.name===e.job_title?.name),m={user_id:e.user_id,name:e.name??"",email:e.email??"",phone:e.phone??"",job_title_id:a?.id??null,years_of_experience:Number(e.years_of_experience)||0,bio:e.bio??null,portfolio_url:e.portfolio_url??null,github_url:e.github_url??null,linkedin_url:e.linkedin_url??null,youtube_url:e.youtube_url??null,is_available:e.is_available??!1,availability_type:(e.availability_type??[]).map(i=>i.value),skill_names:(e.skills??[]).map(i=>i.name),status:e.status??"pending",recommended_by_us:e.recommended_by_us??!1},o=d.value?.cvFile,f=typeof o=="object"&&o&&"value"in o?o.value:o;f&&(m.cv=f),u.value=!0,U.post(E.store.url(),m,{forceFormData:!!f,preserveScroll:!0,onSuccess:()=>d.value?.clearCv?.(),onFinish:()=>{u.value=!1}})}return(e,a)=>(c(),$(T,null,[r(t(F),{title:"Create Developer"}),r(G,{breadcrumbs:D},{default:l(()=>[s("div",I,[s("div",J,[s("div",K,[r(t(H),{class:"h-6 w-6 text-primary"})]),s("div",null,[r(z,{title:"Create Developer",description:"Add a new developer to the platform"})])]),s("div",L,[n.users.length>0?(c(),h(t(y),{key:0,class:"lg:col-span-2"},{default:l(()=>[r(t(P),{class:"pb-4"},{default:l(()=>[...a[1]||(a[1]=[s("h3",{class:"text-sm font-medium text-muted-foreground"}," Developer details ",-1)])]),_:1}),r(t(g),null,{default:l(()=>[s("form",{class:"space-y-6",onSubmit:V(C,["prevent"])},[r(R,{ref_key:"formRef",ref:d,modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=m=>p.value=m),errors:j.value,"job-titles":n.jobTitles,users:n.users,"show-user-select":"","show-admin-fields":""},null,8,["modelValue","errors","job-titles","users"]),s("div",O,[r(t(v),{type:"submit",disabled:u.value},{default:l(()=>[B(N(u.value?"Creating...":"Create Developer"),1)]),_:1},8,["disabled"]),r(t(v),{variant:"outline","as-child":""},{default:l(()=>[s("a",{href:t(b)().url},"Cancel",8,Q)]),_:1})])],32)]),_:1})]),_:1})):(c(),h(t(y),{key:1,class:"lg:col-span-2"},{default:l(()=>[r(t(g),{class:"py-12 text-center"},{default:l(()=>[a[2]||(a[2]=s("p",{class:"text-muted-foreground"}," No users available. All registered users already have developer profiles. ",-1)),r(t(v),{variant:"outline",class:"mt-4","as-child":""},{default:l(()=>[s("a",{href:t(b)().url},"Back to Developers",8,W)]),_:1})]),_:1})]),_:1}))])])]),_:1})],64))}});export{Ee as default};
