import{d as z,c as S,b as a,e as u,i as n,f as t,u as i,g as T,q as K,C as Q,m as w,r as p,o as h}from"./app-D5i2CZUE.js";import{_ as W}from"./FileUpload.vue_vue_type_script_setup_true_lang-uU0EsAkM.js";import{_ as y}from"./InputError.vue_vue_type_script_setup_true_lang-DDEhrImn.js";import{_ as x}from"./SearchableSelect.vue_vue_type_script_setup_true_lang-48SiReFC.js";import{_ as $}from"./Checkbox.vue_vue_type_script_setup_true_lang-CmHaqC_M.js";import{_ as m}from"./Input.vue_vue_type_script_setup_true_lang-D7bbX0Od.js";import{_ as d}from"./Label.vue_vue_type_script_setup_true_lang-D_3b7pIR.js";import{_ as R}from"./Separator.vue_vue_type_script_setup_true_lang-_O1k5osY.js";const X={class:"space-y-6"},Z={key:0,class:"grid gap-2"},I={class:"space-y-4"},ee={class:"grid gap-2"},le={class:"grid gap-2"},ae={class:"grid gap-2"},oe={class:"grid gap-2"},se={class:"grid gap-2"},ie={class:"grid gap-2"},te={class:"grid gap-2 sm:grid-cols-2"},ue={class:"grid gap-2"},ne={class:"grid gap-2"},de={class:"grid gap-2"},re={class:"grid gap-2"},me={class:"grid gap-2"},pe={class:"grid gap-2"},ve={class:"flex flex-wrap items-center gap-4"},fe={class:"flex items-center space-x-2"},be=["value"],ge={key:0,class:"flex items-center space-x-2"},ce=["value"],_e={key:1,class:"grid gap-2"},Ce=z({__name:"DeveloperFormFields",props:{modelValue:{},errors:{default:()=>({})},jobTitles:{},users:{default:()=>[]},showUserSelect:{type:Boolean,default:!1},showAdminFields:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(r,{expose:D,emit:N}){const F=[{value:"full-time",label:"Full-time"},{value:"part-time",label:"Part-time"},{value:"freelance",label:"Freelance"},{value:"hybrid",label:"Hybrid"},{value:"remote",label:"Remote"},{value:"remote-full-time",label:"Remote Full-time"},{value:"hybrid-full-time",label:"Hybrid Full-time"}],M=[{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"},{value:"experience_changed",label:"Experience Changed"}],U=r,v=N,o=w({get:()=>U.modelValue,set:s=>v("update:modelValue",s)}),f=p(!1),b=p(!1),g=p(!1),c=p(!1),_=p(!1),k=p(null),j=p(null),O=w({get:()=>{const s=o.value.job_title?.name;return U.jobTitles.find(e=>e.name===s)?.id.toString()??null},set:s=>{const e={...o.value};if(!s)e.job_title={name:""};else{const l=U.jobTitles.find(V=>V.id.toString()===s);l&&(e.job_title={name:l.name})}v("update:modelValue",e)}}),A=w({get:()=>(o.value.skills??[]).map(s=>s.name),set:s=>{const e=Array.isArray(s)?s:s?[s]:[];v("update:modelValue",{...o.value,skills:e.map(l=>({name:String(l)}))})}});function P(s){f.value=s,s&&(b.value=!1,g.value=!1,c.value=!1,_.value=!1)}function q(s){b.value=s,s&&(f.value=!1,g.value=!1,c.value=!1,_.value=!1)}function E(s){g.value=s,s&&(f.value=!1,b.value=!1,c.value=!1,_.value=!1)}function H(s){c.value=s,s&&(f.value=!1,b.value=!1,g.value=!1,_.value=!1)}function L(s){_.value=s,s&&(f.value=!1,b.value=!1,g.value=!1,c.value=!1)}function J(s){const e={...o.value};if(e.user_id=s?Number(s):null,s){const l=U.users.find(V=>V.id.toString()===s);l&&(e.name=l.name,e.email=l.email)}v("update:modelValue",e)}return D({cvFile:k,cvUploadRef:j,clearCv:()=>{k.value=null,j.value?.clear()}}),(s,e)=>(h(),S("div",X,[r.showUserSelect?(h(),S("div",Z,[a(i(d),{for:"user_id"},{default:u(()=>[...e[16]||(e[16]=[n("User ",-1),t("span",{class:"text-destructive"},"*",-1)])]),_:1}),a(x,{id:"user_id","model-value":String(o.value.user_id??""),open:b.value,options:r.users.map(l=>({value:String(l.id),label:`${l.name} (${l.email})`})),placeholder:"Search by name or email...","onUpdate:modelValue":J,"onUpdate:open":q},null,8,["model-value","open","options"]),a(y,{message:r.errors?.user_id},null,8,["message"])])):T("",!0),t("div",I,[t("div",ee,[a(i(d),{for:"name"},{default:u(()=>[...e[17]||(e[17]=[n("Name ",-1),t("span",{class:"text-destructive"},"*",-1)])]),_:1}),a(i(m),{id:"name",modelValue:o.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>o.value.name=l),name:"name",required:"",placeholder:"Developer name",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"]),a(y,{message:r.errors?.name},null,8,["message"])]),t("div",le,[a(i(d),{for:"email"},{default:u(()=>[...e[18]||(e[18]=[n("Email ",-1),t("span",{class:"text-destructive"},"*",-1)])]),_:1}),a(i(m),{id:"email",modelValue:o.value.email,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value.email=l),name:"email",type:"email",required:"",placeholder:"email@example.com",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"]),a(y,{message:r.errors?.email},null,8,["message"])]),t("div",ae,[a(i(d),{for:"phone"},{default:u(()=>[...e[19]||(e[19]=[n("Phone",-1)])]),_:1}),a(i(m),{id:"phone",modelValue:o.value.phone,"onUpdate:modelValue":e[2]||(e[2]=l=>o.value.phone=l),name:"phone",placeholder:"+964...",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"])]),t("div",oe,[a(i(d),{for:"job_title"},{default:u(()=>[...e[20]||(e[20]=[n("Job title ",-1),t("span",{class:"text-destructive"},"*",-1)])]),_:1}),a(x,{id:"job_title",modelValue:O.value,"onUpdate:modelValue":e[3]||(e[3]=l=>O.value=l),open:f.value,options:r.jobTitles.map(l=>({value:String(l.id),label:l.name})),placeholder:"e.g. Backend Developer","onUpdate:open":P},null,8,["modelValue","open","options"]),a(y,{message:r.errors?.job_title_id},null,8,["message"])]),t("div",se,[a(i(d),{for:"years_of_experience"},{default:u(()=>[...e[21]||(e[21]=[n("Years of experience ",-1),t("span",{class:"text-destructive"},"*",-1)])]),_:1}),a(i(m),{id:"years_of_experience",modelValue:o.value.years_of_experience,"onUpdate:modelValue":e[4]||(e[4]=l=>o.value.years_of_experience=l),modelModifiers:{number:!0},name:"years_of_experience",type:"number",min:"0",max:"100",required:"",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"]),a(y,{message:r.errors?.years_of_experience},null,8,["message"])]),t("div",ie,[a(i(d),{for:"bio"},{default:u(()=>[...e[22]||(e[22]=[n("Bio",-1)])]),_:1}),K(t("textarea",{id:"bio","onUpdate:modelValue":e[5]||(e[5]=l=>o.value.bio=l),name:"bio",rows:"3",class:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",placeholder:"Brief bio..."},null,512),[[Q,o.value.bio]])])]),a(i(R)),e[32]||(e[32]=t("h4",{class:"text-sm font-medium"},"URLs",-1)),t("div",te,[t("div",ue,[a(i(d),{for:"portfolio_url"},{default:u(()=>[...e[23]||(e[23]=[n("Portfolio",-1)])]),_:1}),a(i(m),{id:"portfolio_url",modelValue:o.value.portfolio_url,"onUpdate:modelValue":e[6]||(e[6]=l=>o.value.portfolio_url=l),name:"portfolio_url",type:"url",placeholder:"https://...",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"])]),t("div",ne,[a(i(d),{for:"github_url"},{default:u(()=>[...e[24]||(e[24]=[n("GitHub",-1)])]),_:1}),a(i(m),{id:"github_url",modelValue:o.value.github_url,"onUpdate:modelValue":e[7]||(e[7]=l=>o.value.github_url=l),name:"github_url",type:"url",placeholder:"https://github.com/...",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"])]),t("div",de,[a(i(d),{for:"linkedin_url"},{default:u(()=>[...e[25]||(e[25]=[n("LinkedIn",-1)])]),_:1}),a(i(m),{id:"linkedin_url",modelValue:o.value.linkedin_url,"onUpdate:modelValue":e[8]||(e[8]=l=>o.value.linkedin_url=l),name:"linkedin_url",type:"url",placeholder:"https://linkedin.com/...",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"])]),t("div",re,[a(i(d),{for:"youtube_url"},{default:u(()=>[...e[26]||(e[26]=[n("YouTube",-1)])]),_:1}),a(i(m),{id:"youtube_url",modelValue:o.value.youtube_url,"onUpdate:modelValue":e[9]||(e[9]=l=>o.value.youtube_url=l),name:"youtube_url",type:"url",placeholder:"https://youtube.com/...",class:"transition-colors focus-visible:ring-2"},null,8,["modelValue"])])]),a(W,{id:"cv",ref_key:"cvUploadRef",ref:j,modelValue:k.value,"onUpdate:modelValue":e[10]||(e[10]=l=>k.value=l),label:"CV (PDF, max 10MB)",accept:".pdf,application/pdf","existing-url":o.value.cv_path_url??null,"existing-label":"View current CV",error:r.errors?.cv},null,8,["modelValue","existing-url","error"]),a(i(R)),t("div",me,[a(i(d),{for:"skill_ids"},{default:u(()=>[...e[27]||(e[27]=[n("Skills",-1)])]),_:1}),a(x,{id:"skill_ids",modelValue:A.value,"onUpdate:modelValue":e[11]||(e[11]=l=>A.value=l),open:g.value,"options-url":"/api/skills",placeholder:"e.g. Laravel, Vue",multiple:"","max-options":50,"onUpdate:open":E},null,8,["modelValue","open"])]),t("div",pe,[a(i(d),{for:"availability_type"},{default:u(()=>[...e[28]||(e[28]=[n("Availability type",-1)])]),_:1}),a(x,{id:"availability_type","model-value":(o.value.availability_type??[]).map(l=>l.value),open:c.value,options:F,placeholder:"e.g. Full-time, Remote",multiple:"","onUpdate:modelValue":e[12]||(e[12]=l=>{const V=Array.isArray(l)?l:l?[l]:[],B={...o.value};B.availability_type=V.map(C=>{const Y=F.find(G=>G.value===C);return{value:String(C),label:Y?.label??String(C)}}),v("update:modelValue",B)}),"onUpdate:open":H},null,8,["model-value","open"])]),t("div",ve,[t("div",fe,[t("input",{type:"hidden",name:"is_available",value:o.value.is_available?"1":"0"},null,8,be),a(i($),{id:"is_available",checked:o.value.is_available,"onUpdate:checked":e[13]||(e[13]=l=>o.value.is_available=l),name:"is_available",value:"1"},null,8,["checked"]),a(i(d),{for:"is_available"},{default:u(()=>[...e[29]||(e[29]=[n("Available",-1)])]),_:1})]),r.showAdminFields?(h(),S("div",ge,[t("input",{type:"hidden",name:"recommended_by_us",value:o.value.recommended_by_us?"1":"0"},null,8,ce),a(i($),{id:"recommended_by_us",checked:o.value.recommended_by_us,"onUpdate:checked":e[14]||(e[14]=l=>o.value.recommended_by_us=l),name:"recommended_by_us",value:"1"},null,8,["checked"]),a(i(d),{for:"recommended_by_us"},{default:u(()=>[...e[30]||(e[30]=[n("Recommended by us",-1)])]),_:1})])):T("",!0)]),r.showAdminFields?(h(),S("div",_e,[a(i(d),{for:"status"},{default:u(()=>[...e[31]||(e[31]=[n("Status",-1)])]),_:1}),a(x,{id:"status","model-value":o.value.status??"pending",open:_.value,options:M,placeholder:"Select status","onUpdate:modelValue":e[15]||(e[15]=l=>v("update:modelValue",{...o.value,status:l??"pending"})),"onUpdate:open":L},null,8,["model-value","open"]),a(y,{message:r.errors?.status},null,8,["message"])])):T("",!0)]))}});export{Ce as _};
